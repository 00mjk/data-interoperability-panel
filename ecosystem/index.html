<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Proposal for an Interoperable Solid Ecosystem</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in Â§N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li .secno { font-size: 85%; }
	.toc > li li li li li { font-size:   85%;    }
	.toc > li li li li li .secno { font-size: 100%; }

	/* @supports not (display:grid) { */
		.toc > li             { margin: 1.5rem 0;    }
		.toc > li li          { margin: 0.3rem 0;    }
		.toc > li li li       { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}

		.toc li {
			clear: both;
		}

		:not(li) > .toc              { margin-left:  5rem; }
		.toc .secno                  { margin-left: -5rem; }
		.toc > li li li .secno       { margin-left: -7rem; }
		.toc > li li li li .secno    { margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc              { margin-left:  4rem; }
			.toc .secno                  { margin-left: -4rem; }
			.toc > li li li              { margin-left:  1rem; }
			.toc > li li li .secno       { margin-left: -5rem; }
			.toc > li li li li .secno    { margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			   comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover {
			background: rgba(75%, 75%, 75%, .25);
			border-bottom: 3px solid #054572;
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good table positioning:
		   "content column" is 50ems wide at max; less on smaller screens.
		   Extra space (after ToC + content) is empty on the right.

		   1. When table < content column, centers table in column.
		   2. When content < table < available, left-aligns.
		   3. When table > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 40de15f9, updated Thu Jun 11 17:47:04 2020 -0700" name="generator">
  <link href="https://solid.github.io/data-interoperability-panel/ecosystem/" rel="canonical">
  <meta content="2a40d9d384b38c4e6930291fc244b863f2f779dd" name="document-revision">
<style>
table.permissions thead tr {
  font-size: 12px;
}

table.permissions tbody tr:nth-child(even) {
  background-color: lightgray;
  font-size: 10px;
}

table.permissions tbody td {
  font-size: 10px;
}

pre {
  font-size: .8em;
}

figcaption {
  text-align: left;
}

a[data-link-type=dfn] {
  color: #000000;
}

a[href*=".ttl"] {
  color: #339966;
  border-bottom: 1px solid #339966;
}

a[href*=".shex"] {
  color: #cc2900;
  border-bottom: 1px solid #cc2900;
}

a[href*=".tree"] {
  color: #e68a00;
  border-bottom: 1px solid #e68a00;
}

</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "â";
}
.css::after, .property::after, .descriptor::after {
    content: "â";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "â";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "â";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-dfn-panel */

.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #DDDDDD;
    color: black;
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-line-highlighting */

.line-numbered {
    display: grid !important;
    grid-template-columns: min-content 1fr;
    grid-auto-flow: rows;
}
.line-numbered > *,
.line-numbered::before,
.line-numbered::after {
    grid-column: 1/-1;
}
.line-no {
    grid-column: 1;
    color: gray;
}
.line {
    grid-column: 2;
}
.line.highlight-line {
    background: rgba(0,0,0,.05);
}
.line-no.highlight-line {
    background: rgba(0,0,0,.05);
    color: #444;
    font-weight: bold;
}
.line-no.highlight-line[data-line]::before {
    padding: 0 .5em 0 .1em;
    content: attr(data-line);
}
.line-no.highlight-line[data-line-end]::after {
    padding: 0 .5em 0 .1em;
    content: attr(data-line-end);
}
</style>
<style>/* style-line-numbers */

.line-numbered {
    display: grid !important;
    grid-template-columns: min-content 1fr;
    grid-auto-flow: row;
}
.line-numbered > *,
.line-numbered::before,
.line-numbered::after {
    grid-column: 1/-1;
}
.line-no {
    grid-column: 1;
    color: gray;
}
.line {
    grid-column: 2;
}
.line:hover {
    background: rgba(0,0,0,.05);
}
.line-no[data-line]::before {
    padding: 0 .5em 0 .1em;
    content: attr(data-line);
}
.line-no[data-line-end]::after {
    padding: 0 .5em 0 .1em;
    content: attr(data-line-end);
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "Â¶"; }
.heading > a.self-link::before { content: "Â§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">Proposal for an Interoperable Solid Ecosystem</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editorâs Draft, <time class="dt-updated" datetime="2020-07-01">1 July 2020</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://solid.github.io/data-interoperability-panel/ecosystem/">https://solid.github.io/data-interoperability-panel/ecosystem/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/solid/data-interoperability-panel/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Justin Bingham</span>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Eric Prud'hommeaux</span>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Josh Collins</span>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 1 July 2020,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>A proposal for a Solid ecosystem that supports data interoperability across

  applications while enabling secure collaboration and query using intuitive
  data boundaries without changing the fundamentals of Solid, presented in the
  form of an end-to-end use case.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#problems-goals"><span class="secno">1</span> <span class="content">Problems and Goals</span></a>
    <li><a href="#proposal"><span class="secno">2</span> <span class="content">Proposal</span></a>
    <li>
     <a href="#usecase"><span class="secno">3</span> <span class="content">Reference Use Case</span></a>
     <ol class="toc">
      <li><a href="#alice-registers"><span class="secno">3.1</span> <span class="content">Alice registers NeverNote</span></a>
      <li><a href="#alice-authorizes"><span class="secno">3.2</span> <span class="content">Alice grants NeverNote access to data</span></a>
      <li><a href="#alice-collaborates"><span class="secno">3.3</span> <span class="content">Alice collaborates with Bob</span></a>
     </ol>
    <li><a href="#ecoagent"><span class="secno">4</span> <span class="content">Agent</span></a>
    <li>
     <a href="#reg"><span class="secno">5</span> <span class="content">Registrar</span></a>
     <ol class="toc">
      <li><a href="#reg-model"><span class="secno">5.1</span> <span class="content">Registrar Data Model</span></a>
      <li><a href="#reg-structure"><span class="secno">5.2</span> <span class="content">Structure and Validation</span></a>
      <li><a href="#reg-permissions"><span class="secno">5.3</span> <span class="content">Permission Model</span></a>
     </ol>
    <li>
     <a href="#appreg"><span class="secno">6</span> <span class="content">Application Registration</span></a>
     <ol class="toc">
      <li><a href="#appreg-datamodel"><span class="secno">6.1</span> <span class="content">Data Model</span></a>
      <li><a href="#appreg-structure"><span class="secno">6.2</span> <span class="content">Structure and Validation</span></a>
      <li><a href="#appreg-permissions"><span class="secno">6.3</span> <span class="content">Permission Model</span></a>
      <li><a href="#appreg-lookup"><span class="secno">6.4</span> <span class="content">Looking up an Application Registration</span></a>
      <li><a href="#appreg-new"><span class="secno">6.5</span> <span class="content">Registering an Application</span></a>
     </ol>
    <li><a href="#trusted"><span class="secno">7</span> <span class="content">Trusted Agents</span></a>
    <li>
     <a href="#client"><span class="secno">8</span> <span class="content">Client Identification</span></a>
     <ol class="toc">
      <li><a href="#client-id"><span class="secno">8.1</span> <span class="content">Identifying client applications</span></a>
      <li><a href="#client-limit"><span class="secno">8.2</span> <span class="content">Limiting access by client application</span></a>
     </ol>
    <li><a href="#definitions"><span class="secno">9</span> <span class="content">Definitions</span></a>
    <li>
     <a href="#environment"><span class="secno">10</span> <span class="content">Use Case Environment</span></a>
     <ol class="toc">
      <li><a href="#people"><span class="secno">10.1</span> <span class="content">People</span></a>
      <li><a href="#applications"><span class="secno">10.2</span> <span class="content">Applications</span></a>
     </ol>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="problems-goals"><span class="secno">1. </span><span class="content">Problems and Goals</span><a class="self-link" href="#problems-goals"></a></h2>
   <p>Solid affords us the opportunity to create a valuable and
powerful ecosystem where people and organizations retain control of their data,
but are also able to put it to work and use it to its full potential. The
fundamentals of Solid make this possible, but further definition of standard
methods and mechanisms must be established to make it practical, intuitive, and
secure.</p>
   <div class="assertion">
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-1---disparate-applications-cannot-practically-interoperate-over-the-same-data-safely-and-effectively">Problem #1</a> -
    Disparate applications cannot practically interoperate over the same data
    safely and effectively.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-1---seamless-data-interoperability-across-disparate-applications">Goal</a> -
Seamless data interoperability across disparate applications.</b></p>
    </ul>
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-2---people-must-be-able-to-understand-what-data-they-have-to-effectively-use-it-or-share-it-safely">Problem #2</a> -
    People must be able to understand what data they have to effectively use it
    or share it safely.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-2---use-intuitive-data-boundaries-to-provide-human-to-machine-interoperability">Goal</a> -
Use intuitive data boundaries to provide human to machine interoperability.</b></p>
    </ul>
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-3---disparate-entities-using-different-applications-must-be-able-to-safely-and-effectively-interoperate-within-their-scope-of-authorization">Problem #3</a> -
    Disparate entities using different applications must be able to
    safely and effectively interoperate within their scope of authorization.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-3---secure-collaboration-over-intuitive-data-boundaries">Goal</a> -
Secure collaboration over intuitive data boundaries.</b></p>
    </ul>
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-4---people-shouldnt-need-to-think-about-how-to-physically-organize-their-data-to-use-solid">Problem #4</a> -
    People shouldnât need to think about how to physically organize
    their data to use Solid.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-4---standard-and-flexible-organizing-model-for-data">Goal</a> -
Standard and flexible organizing model for data.</b></p>
    </ul>
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-5---when-data-is-stored-and-secure-it-should-be-queryable-using-any-mechanism-and-able-to-be-requested-in-different-representations">Problem #5</a> -
    When data is stored and secure, it should be queryable using any
    mechanism, and able to be requested in different representations.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-5---flexibility-and-support-for-different-and-evolving-query-mechanisms">Goal</a> -
Flexibility and support for different and evolving query mechanisms.</b></p>
    </ul>
    <p><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#problem-6---these-problems-must-be-solvable-using-the-fundamentals-of-solid-as-it-exists-today">Problem #6</a> -
    These problems must be solvable using the fundamentals of Solid
    as it exists today.</p>
    <ul>
     <li data-md>
      <p><b><a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md#goal-6---optimize-and-extend-but-do-not-change-solid-fundamentals">Goal</a> -
Optimize and extend, but do not change Solid fundamentals.</b></p>
    </ul>
   </div>
   <p>We must be able to support data interoperability across applications while
enabling secure collaboration and query using intuitive data boundaries.</p>
   <p>Diversity in how the same data will be accessed and manipulated by different
entities and applications exacerbates the need for reliable mechanisms that
protect against data corruption, data leakage, or broken workflows</p>
   <p>Standard methods and mechanisms for interoperability, collaboration, and
security of data in a Solid Pod must realize these needs, and it must be done
without changing the fundamentals of Solid.</p>
   <p class="note" role="note"><span>Note:</span> See <a data-link-type="biblio" href="#biblio-problems-and-goals">[PROBLEMS-AND-GOALS]</a> for a detailed explanation of each discrete
problem.</p>
   <h2 class="heading settled" data-level="2" id="proposal"><span class="secno">2. </span><span class="content">Proposal</span><a class="self-link" href="#proposal"></a></h2>
   <p>In this proposal, we aim to address the stated problems and associated goals
by providing straightforward patterns that can be used in concert to realize
an interoperable <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystem">ecosystem</a> for <a data-link-type="dfn" href="#solid" id="ref-for-solid">Solid</a>. To aid in understanding,
we include a reference use case that incorporates key elements of the proposal
in context for the reader.</p>
   <p>We introduce <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-tree">shape trees</a> as a fundamental means through which we model,
validate, organize, and authorize data stored in a Solid <a data-link-type="dfn" href="#pod" id="ref-for-pod">pod</a>. Data becomes
durable, interoperable, and available to be retrieved in different
representations or discovered through any query mechanism.</p>
   <p>Nowhere in this proposal does an <a data-link-type="dfn" href="#agent" id="ref-for-agent">agent</a> or <a data-link-type="dfn" href="#application" id="ref-for-application">application</a> need to worry about where to store data, or where to find it.
Data is organized and shared using intuitive data boundaries
provided by <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ ">shape trees</a>, making it easy for Alice, Bob, and their respective
applications to interoperate with each other in a way that they all understand.
In concert with <a data-link-type="dfn" href="#acl-resource" id="ref-for-acl-resource">acl resources</a>, this organization scheme facilitates
straightforward compartmentalized access by <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agent">authenticated agents</a> and <a data-link-type="dfn" href="#application" id="ref-for-applicationâ ">applications</a>, and allows them to operate using the least amount of
privilege necessary to complete their tasks.</p>
   <p>We introduce patterns for <a href="#appreg">registering applications</a>, authorizing
access to data, keeping track of access grants, and of remote resources
for which access has been granted to the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controller">resource controller</a>. <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agent">Trusted Agents</a> perform important actions for the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ ">resource controllerâs</a> with escalated privileges to help her securely
manage her data and make informed, intuitive, and secure decisions.</p>
   <p>Most importantly, this proposal can work with Solid as it exists today, on its
own or alongside other conventions, with some caveats.</p>
   <div class="assertion">
    <ul>
     <li data-md>
      <p>Identifying the <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationid">ApplicationID</a> in an <a data-link-type="dfn" href="#acl-resource" id="ref-for-acl-resourceâ ">acl resource</a> statement
requires <a data-link-type="biblio" href="#biblio-wac">[WAC]</a> extension and IdP support. This proposal still works
without this, but you would no longer be able to compartmentalize
access between <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-application">user-piloted applications</a> in use by the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¡">resource controller</a>.</p>
     <li data-md>
      <p>This proposal assumes support for <a data-link-type="dfn" href="#shape" id="ref-for-shape">shape</a> validation on the <a data-link-type="dfn" href="#solid" id="ref-for-solidâ ">Solid</a> server. It will still work without this support, but will significantly
hamper data durability, integrity, and interoperability. Similarly,
it doesnât require the server to perform <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¡">shape tree</a> validation,
but more reliable and durable interoperability would be achieved with
server-side support.</p>
    </ul>
   </div>
   <h2 class="heading settled" data-level="3" id="usecase"><span class="secno">3. </span><span class="content">Reference Use Case</span><a class="self-link" href="#usecase"></a></h2>
   <p>In our use case, Alice wants to use a new application to record and manage
her personal and professional notes. She does a Web search and finds
NeverNote (https://nevernote.example), a single-page (SPA) web-based
application that advertises itself as <em>solid enabled</em>. Alice is excited
about this because she recently created a Solid Pod for herself
at https://alice.pod.example.</p>
   <p>When Alice brings up NeverNote in her
web browser, she is prompted to authenticate with her <a data-link-type="dfn" href="#webid" id="ref-for-webid">WebID</a> because
NeverNote doesnât know who she is yet, nor is it permitted to send
authenticated requests to her pod.</p>
   <h3 class="heading settled" data-level="3.1" id="alice-registers"><span class="secno">3.1. </span><span class="content">Alice registers NeverNote</span><a class="self-link" href="#alice-registers"></a></h3>
   <p>Alice logs into her <a data-link-type="dfn" href="#identity-provider" id="ref-for-identity-provider">identity provider</a> (<code>https://idp.example</code>) with her
WebID (<code>https://alice.pod.example/id#me</code>), and receives
a <a data-link-type="dfn" href="#token" id="ref-for-token">token</a> that NeverNote can use to make requests to her pod.
The token identifies her as Alice (<code>https://alice.pod.example/id#me</code>),
using NeverNote (<code>https://nevernote.example/id#agent</code>).</p>
   <p>At this point, NeverNote isnât sure whether Alice is a brand new user of
NeverNote, or an existing user with stored preferences and caches, who has
granted NeverNote access to her notebook and note data.</p>
   <p>To determine whether Alice has already registered NeverNote, NeverNote <a href="#appreg-lookup">looks for an application registration</a> for itself through
Aliceâs <a href="#reg">Â§â¯5 Registrar</a>. If no registration is found, NeverNote will go through
a quick <a href="#appreg-new">registration process</a>. If there is already an
existing registration for NeverNote, no additional
steps are necessary, and NeverNote is able to access the registration entry
subject to the limitations of the <a href="#appreg-permissions">Â§â¯6.3 Permission Model</a>, in accordance with
the <a href="#appreg-structure">Â§â¯6.2 Structure and Validation</a> of the resource hierarchy.</p>
   <h3 class="heading settled" data-level="3.2" id="alice-authorizes"><span class="secno">3.2. </span><span class="content">Alice grants NeverNote access to data</span><a class="self-link" href="#alice-authorizes"></a></h3>
   <p class="issue" id="issue-27bb05e9"><a class="self-link" href="#issue-27bb05e9"></a> Complete Data Registration and Data Authorization and update this
section.</p>
   <ul>
    <li data-md>
     <p>Through the help of her Authorization Agent, Alice grants NeverNote the
following privileges:</p>
    <li data-md>
     <p>Access to Notes that already existed in her Pod</p>
    <li data-md>
     <p>Ability to create new Notes that NeverNote will have permission to manage</p>
    <li data-md>
     <p>Ability to create new Notebooks that NeverNote will have permission to manage</p>
   </ul>
   <h3 class="heading settled" data-level="3.3" id="alice-collaborates"><span class="secno">3.3. </span><span class="content">Alice collaborates with Bob</span><a class="self-link" href="#alice-collaborates"></a></h3>
   <p class="issue" id="issue-53b6e44d"><a class="self-link" href="#issue-53b6e44d"></a> Complete Collaborative Access then update this section.</p>
   <ul>
    <li data-md>
     <p>Alice and Bob collaborate on a Notebook in Aliceâs Pod. Bob is using a
different application than NeverNote called OtherNote.</p>
   </ul>
   <h2 class="heading settled" data-level="4" id="ecoagent"><span class="secno">4. </span><span class="content">Agent</span><a class="self-link" href="#ecoagent"></a></h2>
   <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agentâ ">Agent</a> is a distinct individual, group, or piece of
software with an identity that can be strongly authenticated. They are
the primary actors in the Solid <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ ">ecosystem</a>.</p>
   <p>Agents have <a data-link-type="dfn" href="#identity" id="ref-for-identity">identities</a>, and dereferencing those identities leads
to <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-document">identity profile documents</a> that let other agents and applications
participating in the ecosystem know how to interact with them.</p>
   <p>Even the applications that the agent uses directly find their way to
the agentâs data through the agentâs identity.</p>
   <p>Agents are represented by the <code>eco:Agent</code> class.</p>
   <p class="issue" id="issue-5ca9e043"><a class="self-link" href="#issue-5ca9e043"></a> Expand this text further to demonstrate the association with the
traditional identity profile document when dereferencing a webid, with
data model, structure/validation, and perms.</p>
   <h2 class="heading settled" data-level="5" id="reg"><span class="secno">5. </span><span class="content">Registrar</span><a class="self-link" href="#reg"></a></h2>
   <p>A <a data-link-type="dfn" href="#registrar" id="ref-for-registrar">Registrar</a> provides <a data-link-type="dfn" href="#registry" id="ref-for-registry">Registries</a> where an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡">Agent</a> can register,
store, and lookup essential data needed to participate in the ecosystem.
It supports key functions like application registration,
organizing and tracking data, and more.</p>
   <ul>
    <li data-md>
     <p><a href="#appreg">Â§â¯6 Application Registration</a> uses <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registry">Application Registries</a> to manage <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registration">Application Registrations</a>.</p>
    <li data-md>
     <p>Data Registration relies on data registries to organize,
store, and find registered data.</p>
    <li data-md>
     <p>Access registries let agents track and communicate access grants to
resources they control.</p>
    <li data-md>
     <p>Agents track and manage data that has been shared with them through
remote registries.</p>
   </ul>
   <h3 class="heading settled" data-level="5.1" id="reg-model"><span class="secno">5.1. </span><span class="content">Registrar Data Model</span><a class="self-link" href="#reg-model"></a></h3>
   <figure>
     <img src="registrar-model.svg" width="100%/"> 
    <figcaption align="center">Top level registrar data model</figcaption>
   </figure>
   <p>Humans, software, or device <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¢">Agents</a> participating in the Solid ecosystem
are represented by the class <a href="ecosystem.ttl#Agent">eco:Agent</a>. Each <a data-link-type="dfn" href="#agent" id="ref-for-agentâ£">Agent</a> has a <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ ">Registrar</a>, represented by the class <a href="ecosystem.ttl#Registrar">eco:Registrar</a>.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#agent" id="ref-for-agentâ¤">Agent</a> at https://alice.pod.example/id#me linking to <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¡">Registrar</a></figcaption>
<pre class="highlight"><c- g>&lt;#me></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>Agent</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>hasRegistrar</c-> <c- g>&lt;https://alice.pod.example/registries/#registrar></c-> <c- p>.</c->
</pre>
   </figure>
   <p>A <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¢">Registrar</a> links to a number of <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-set">Registry Sets</a>. <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ ">Registry Sets</a> are
represented by the class <a href="ecosystem.ttl#RegistrySet">eco:RegistrySet</a>.
They are collections of one or more linked <a data-link-type="dfn" href="#registry" id="ref-for-registryâ ">Registries</a>. They are almost
always focused on a single <a data-link-type="dfn" href="#registry" id="ref-for-registryâ¡">Registry</a> type, through type-specific
subclasses like <a href="ecosystem.ttl#ApplicationRegistySet">eco:ApplicationRegistrySet</a>.</p>
   <p>A given <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ£">Registrar</a> is linked to a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¡">Registry Set</a> via the <a href="ecosystem.ttl#hasRegistrySet">eco:hasRegistrySet</a> property, or through
type-specific sub-properties like <a href="ecosystem.ttl#hasApplicationRegistrySet">eco:hasApplicationRegistrySet</a>.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¤">Registrar</a> at
  https://alice.pod.example/registries/#registrar linking to <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¢">Registry Sets</a></figcaption>
<pre class="highlight"><c- g>&lt;#registrar></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>Registrar</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>hasApplicationRegistrySet</c-> <c- g>&lt;https://alice.pod.example/registries/application#set></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>hasDataRegistrySet</c-> <c- g>&lt;https://alice.pod.example/registries/data#set></c-> <c- p>.</c->
</pre>
   </figure>
   <p>A <a data-link-type="dfn" href="#registry" id="ref-for-registryâ¢">Registry</a> is a place where an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¥">Agent</a> can register, store, and lookup
essential data needed to participate in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ¡">ecosystem</a>. It is represented
by the <a href="ecosystem.ttl#Registry">eco:Registry</a> class.</p>
   <p>A given <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ£">Registry Set</a> links to any number of <a data-link-type="dfn" href="#registry" id="ref-for-registryâ£">Registries</a> via the <a href="ecosystem.ttl#hasRegistry">eco:hasRegistry</a> property.</p>
   <p>This applies to type-specific to subclasses as well. For example, an <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-set">Application Registry Set</a> links to any number of <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ ">Application Registries</a> via the same <a href="ecosystem.ttl#hasRegistry">eco:hasRegistry</a> property.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-setâ ">Application Registry Set</a> linking to two different <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡">Application Registries</a></figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistrySet</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>hasRegistry</c-> <c- g>&lt;https://alice.pod.example/applications/#registry></c-> <c- p>,</c->
                  <c- g>&lt;https://alice.otherpod.example/applications/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <p><a data-link-type="dfn" href="#registry" id="ref-for-registryâ¤">Registries</a> exist to store and catalog <a data-link-type="dfn" href="#registration" id="ref-for-registration">Registrations</a>, each of which
represents an individual unit of information for a given <a data-link-type="dfn" href="#registry" id="ref-for-registryâ¥">Registry</a>. <a data-link-type="dfn" href="#registration" id="ref-for-registrationâ ">Registrations</a> are represented by the <code>eco:Registration</code> class.</p>
   <p>A given <a data-link-type="dfn" href="#registry" id="ref-for-registryâ¦">Registry</a> links to any number of <a data-link-type="dfn" href="#registration" id="ref-for-registrationâ¡">Registrations</a> via the <a href="ecosystem.ttl#hasRegistration">eco:hasRegistration</a> property.</p>
   <p>This applies to type-specific to subclasses as well, which are the normal
mode of use. For example, an <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¢">Application Registry</a> links to any number of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ ">Application Registrations</a> via the <a href="ecosystem.ttl#hasRegistration">eco:hasRegistration</a> property.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ£">Application Registry</a> linking to three <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡">Application Registration</a> instances</figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistry</c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>hasRegistration</c-> <c- g>&lt;https://alice.pod.example/applications/02f9d4221d9e5c0ae/#registration></c-> <c- p>,</c->
                      <c- g>&lt;https://alice.pod.example/applications/6fe4221d0589d7bde/#registration></c-> <c- p>,</c->
                      <c- g>&lt;https://alice.pod.example/applications/543ab04333ba5bcc2/#registration></c-> <c- p>.</c->
</pre>
   </figure>
   <p>The properties and associated data of a given <a data-link-type="dfn" href="#registration" id="ref-for-registrationâ¢">Registration</a> may vary widely depending on the type of <a data-link-type="dfn" href="#registry" id="ref-for-registryâ§">Registry</a> it is
associated with. However, a number of general properties are inherited from
the base <a data-link-type="dfn" href="#registration" id="ref-for-registrationâ£">Registration</a> class <a href="ecosystem.ttl#Registration">eco:Registration</a>. In the following
example, all properties except for <a href="ecosystem.ttl#registeredApplication">eco:registeredApplication</a> are inherited from <a href="ecosystem.ttl#Registration">eco:Registration</a>.</p>
   <figure>
    <figcaption>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢">Application Registration</a> instance</figcaption>
<pre class="highlight line-numbered" line-highlight="5"><span class="line-no" data-line="1"></span><span class="line"><c- g>&lt;#registration></c-></span><span class="line-no" data-line="2"></span><span class="line">  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistration</c-> <c- p>;</c-></span><span class="line-no" data-line="3"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/id#me></c-> <c- p>;</c-></span><span class="line-no" data-line="4"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/ar></c-> <c- p>;</c-></span><span class="line-no highlight-line" data-line="5"></span><span class="line highlight-line">  <c- nn>eco:</c-><c- f>registeredApplication</c-> <c- g>&lt;https://nevernote.example/id#agent></c-> <c- p>;</c-></span><span class="line-no" data-line="6"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- o>^^</c->xsd:dateTime <c- p>.</c-></span></pre>
   </figure>
   <h3 class="heading settled" data-level="5.2" id="reg-structure"><span class="secno">5.2. </span><span class="content">Structure and Validation</span><a class="self-link" href="#reg-structure"></a></h3>
   <p>Instances of the classes and properties in the <a href="#reg-model">Â§â¯5.1 Registrar Data Model</a> are organized across different resources and pods for a given <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¦">Agent</a> participating in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ¢">ecosystem</a>. The instance data in resources are
validated by <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ ">shapes</a>, which are associated with those resources
through <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¢">shape trees</a>.</p>
   <figure>
    <figcaption>Example <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¥">Registrar</a> structure for an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ§">Agent</a>.
  Excludes some <a data-link-type="dfn" href="#registry" id="ref-for-registryâ¨">Registry</a> types for clarity.</figcaption>
     <img src="registrar-tree.svg" width="100%/"> 
   </figure>
   <p>The <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¦">Registrar</a> linked to an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¨">Agent</a> is discovered by dereferencing their <a data-link-type="dfn" href="#identity" id="ref-for-identityâ ">identity</a> (e.g. <code>https://alice.pod.example/id#me</code>) to access their <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ ">identity profile document</a>, represented in
the figure above as <code>/id</code>.</p>
   <p>The <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ§">Registrar</a> is stored in the RDF graph of the <code>/registeries</code> container at <code>https://alice.pod.example/registries/#registrar</code>.
The <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ¨">Registrar</a> instance links to a collection of type-specific <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¤">Registry Set</a> instances stored in the <code>/registries</code> container.</p>
   <p>The shape tree <a href="ecosystem.tree#registrar-tree">ecot:registrar-tree</a> associated with the <code>/registries</code> container
specifies this resource structure. It assigns the <a href="ecosystem.shex#RegistrarShape">ecos:RegistrarShape</a> to validate
a <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ âª">Registrar</a> instance in the graph of the container resource. It also assigns <a href="ecosystem.shex#ApplicationRegistrySetShape">ecos:ApplicationRegistrySetShape</a> and <a href="ecosystem.shex#DataRegistrySetShape">ecos:DataRegistrySetShape</a> to validate the <a href="ecosystem.ttl#ApplicationRegistrySet">eco:ApplicationRegistrySet</a> and <a href="ecosystem.ttl#DataRegistrySet">eco:DataRegistrySet</a> instances in the contained resources.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ£">Shape trees</a>, <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ¡">shapes</a>, and <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¥">Registry Set</a> resources
  associated with a <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ â ">Registrar</a> container</figcaption>
     <img src="registrar-registries.svg" width="100%/"> 
   </figure>
   <p>A <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¦">Registry Set</a> resource of a specific type will link to one or more <a data-link-type="dfn" href="#registry" id="ref-for-registryâ âª">Registry</a> instances of the same type.</p>
   <p>For example, the <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-setâ¡">Application Registry Set</a> at <code>https://alice.pod.example/registries/application#set</code> links to two <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¤">Application Registry</a> instances, one of them being <code>https://alice.pod.example/applications/#registry</code>.</p>
   <p>The <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¥">Application Registry</a> instance is stored in the RDF graph
of the <code>/applications</code> container at <code>https://alice.pod.example/applications/#registry</code>. It links to a
collection of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ£">Application Registration</a> instances stored in
the <code>/applications</code> container.</p>
   <p>The shape tree <a href="ecosystem.tree#application-registry-tree">ecot:application-registry-tree</a> associated with the <code>/applications</code> container specifies this resource
structure. It assigns the <a href="ecosystem.shex#ApplicationRegistryShape">ecos:ApplicationRegistryShape</a> to validate the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¦">Application Registry</a> instance in the
container resource. It also assigns a <a href="ecosystem.shex#ApplicationRegistrationShape">ecos:ApplicationRegistrationShape</a> to validate an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¤">Application Registration</a> in every
contained resource.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¤">Shape trees</a>, <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ¢">shapes</a>, and <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¥">Application Registration</a> resources associated with an <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ§">Application Registry</a> container</figcaption>
     <img src="registrar-applications.svg" width="100%/"> 
   </figure>
   <h3 class="heading settled" data-level="5.3" id="reg-permissions"><span class="secno">5.3. </span><span class="content">Permission Model</span><a class="self-link" href="#reg-permissions"></a></h3>
   <p>The permission model for the <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ â¡">Registrar</a> resources detailed in <a href="#reg-structure">Â§â¯5.2 Structure and Validation</a> are illustrated in the table below. That said, the following key points
are worth noting:</p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ¡">identity profile document</a> at <code>/id</code> is the only resource that is
publicly accessible (with read-only privileges).</p>
    <li data-md>
     <p>The only information exposed is a link to Aliceâs <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ â¢">Registrar</a> at <code>/registries</code>, which is a protected document.</p>
    <li data-md>
     <p>Neither the types or locations of Aliceâs <a data-link-type="dfn" href="#registry" id="ref-for-registryâ â ">Registries</a> are
ever publicly exposed.</p>
   </ul>
   <p>The <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¢">resource controller</a> (Alice in our <a href="#usecase">Â§â¯3 Reference Use Case</a>) should be assumed to
have control-level access across her entire data space.</p>
   <figure>
    <figcaption>Permission model for <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ â£">Registrar</a> resources</figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th scope="colgroup">Controller
       <th scope="colgroup">Public
       <th colspan="2" scope="colgroup">Selectively Trusted
       <th colspan="2" scope="colgroup">Selectively Granted
      <tr>
       <th scope="col">Resource
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/id</code>
       <td>Control
       <td>Read
       <td>Identity Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>/registries/</code>
       <td>Control
       <td>-
       <td>Trusted Agents
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- /registries/application</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- /registries/data</code>
       <td>Control
       <td>-
       <td>Data Authorization Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>/applications/</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- /applications/registration-123/</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Read
      <tr>
       <td><code>-- /applications/registration-123/*</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Write
      <tr>
       <td><code>/data</code>
       <td>Control
       <td>-
       <td>Data Authorization Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- /data/registration-456/</code>
       <td>Control
       <td>-
       <td>Data Authorization Agent
       <td>Control
       <td>Grantee
       <td>Varies
      <tr>
       <td><code>-- /data/registration-456/*</code>
       <td>Control
       <td>-
       <td>Data Authorization Agent
       <td>Control
       <td>Grantee
       <td>Varies
    </table>
   </figure>
   <h2 class="heading settled" data-level="6" id="appreg"><span class="secno">6. </span><span class="content">Application Registration</span><a class="self-link" href="#appreg"></a></h2>
   <p>Application Registration gives <a data-link-type="dfn" href="#agent" id="ref-for-agentâ âª">Agents</a> participating in the Solid <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ£">ecosystem</a> a way to register and track the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡">Applications</a> theyâve elected
to use with their data. It also provides each <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢">Application</a> with a place
to store metadata, preferences, access grants, caches, and other internal
data specific to the function of a given <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£">Application</a>.</p>
   <p>An <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¨">Application Registry</a> for storing individual <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¦">Application Registrations</a> is introduced, implemented through the <a href="#reg">Â§â¯5 Registrar</a>.</p>
   <h3 class="heading settled" data-level="6.1" id="appreg-datamodel"><span class="secno">6.1. </span><span class="content">Data Model</span><a class="self-link" href="#appreg-datamodel"></a></h3>
   <figure>
     <img src="appreg-model.svg" width="100%/"> 
    <figcaption>Data model for application registration</figcaption>
   </figure>
   <p>Application Registration extends the <a href="#reg-model">Â§â¯5.1 Registrar Data Model</a> with type-specific
subclasses and subproperties.</p>
   <ul>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â ">Agent</a> has a <a data-link-type="dfn" href="#registrar" id="ref-for-registrarâ â¤">Registrar</a>, which links to <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-setâ¢">Application Registry Set</a> instances.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-setâ£">Application Registry Set</a> links to any number of <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ âª">Application Registry</a> instances via the <a href="ecosystem.ttl#hasRegistry">eco:hasRegistry</a> property.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â ">Application Registry</a> links to any number of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ§">Application Registrations</a> via the <a href="ecosystem.ttl#hasRegistration">eco:hasRegistration</a> property.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¨">Application Registration</a> extends the <a href="ecosystem.ttl#Registration">eco:Registration</a> class with the <a href="ecosystem.ttl#ApplicationRegistration">eco:ApplicationRegistration</a> subclass.</p>
   </ul>
   <p>The <a href="ecosystem.ttl#ApplicationRegistration">eco:ApplicationRegistration</a> subclass also introduces the following properties:</p>
   <ul>
    <li data-md>
     <p><a href="ecosystem.ttl#registeredApplication">eco:registeredApplication</a> - <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ ">ApplicationID</a> of the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¤">Application</a> that is being registered.</p>
   </ul>
   <figure>
    <figcaption>Instance data for
  an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ âª">Application Registration</a> at
  https://alice.pod.example/applications/02f9d4221d9e5c0ae/#registration </figcaption>
<pre class="highlight line-numbered" line-highlight="5"><span class="line-no" data-line="1"></span><span class="line"><c- g>&lt;#registration></c-></span><span class="line-no" data-line="2"></span><span class="line">  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistration</c-> <c- p>;</c-></span><span class="line-no" data-line="3"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/id#me></c-> <c- p>;</c-></span><span class="line-no" data-line="4"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/ar></c-> <c- p>;</c-></span><span class="line-no highlight-line" data-line="5"></span><span class="line highlight-line">  <c- nn>eco:</c-><c- f>registeredApplication</c-> <c- g>&lt;https://nevernote.example/id#agent></c-> <c- p>;</c-></span><span class="line-no" data-line="6"></span><span class="line">  <c- nn>eco:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- o>^^</c->xsd:dateTime <c- p>.</c-></span></pre>
   </figure>
   <h3 class="heading settled" data-level="6.2" id="appreg-structure"><span class="secno">6.2. </span><span class="content">Structure and Validation</span><a class="self-link" href="#appreg-structure"></a></h3>
   <p>A given <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¡">Agent</a> will have one or more <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¡">Application Registries</a> discoverable through the <a href="#reg-model">Â§â¯5.1 Registrar Data Model</a>, via resources that implement <a href="#reg-structure">Registrar Structure and Validation</a>.</p>
   <figure>
    <figcaption>An <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¢">Application Registry</a> at
  https://alice.pod.example/applications/#registry</figcaption>
     <img src="registrar-applications.svg" width="100%/"> 
   </figure>
   <p>The <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â£">Application Registry</a> instance data is stored in the RDF graph
of the <code>/applications</code> container at <code>https://alice.pod.example/applications/#registry</code>. It links to a
collection of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â ">Application Registrations</a> stored in
the <code>/applications</code> container.</p>
   <p>The shape tree <a href="ecosystem.tree#application-registry-tree">ecot:application-registry-tree</a> associated with the <code>/applications</code> container specifies this resource
structure. It assigns the <a href="ecosystem.shex#ApplicationRegistryShape">ecos:ApplicationRegistryShape</a> to validate the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¤">Application Registry</a> instance data in the
container resource, and says that the container includes instances of <a href="ecosystem.tree#application-registration-tree">ecot:application-registration-tree</a>,
which any resources added to the <code>/applications</code> container must conform to.</p>
   <p>Conforming to <a href="ecosystem.tree#application-registration-tree">ecot:application-registration-tree</a> ensures that the container for the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¥">Application Registry</a> at <code>/applications#registry</code> only contains valid <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¡">Application Registrations</a>.</p>
   <p>Specifically:</p>
   <ul>
    <li data-md>
     <p>Any resource added to the <code>/applications</code> container must be a
container (<code>tree:expectedType ldp:Container</code>)</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¢">Application Registration</a> must be stored in the
RDF graph of that container, to successfully pass shape validation via <code>tree:shape &lt;ecos#ApplicationRegistrationShape></code>.</p>
   </ul>
   <figure>
    <figcaption>An <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â£">Application Registration</a> at
  https://alice.pod.example/applications/02f9d4221d9e5c0ae/#registration </figcaption>
     <img src="appregistration-structure.svg" width="100%/"> 
   </figure>
   <p>These <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¤">Application Registrations</a> are associated with container resources
so that the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¥">Application</a> that has been registered
has dedicated space to store data that is very specific to its internal
functions. In the figure above, we can see an application-specific
configuration resource (<code>config.ttl</code>) and a summary index file (<code>summary.idx</code>).</p>
   <h4 class="heading settled" data-level="6.2.1" id="appreg-naming"><span class="secno">6.2.1. </span><span class="content">Naming application registration resources</span><a class="self-link" href="#appreg-naming"></a></h4>
   <p>In this proposal, resource names for ecosystem instances are almost always
randomly generated. However, when creating an <a href="ecosystem.tree#application-registration-tree">ecot:application-registration-tree</a> for an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¥">Application Registration</a>, the container
must be named using a SHA-256 hash encoding of the <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¡">ApplicationID</a> for the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¦">Application</a>, which is linked through the <a href="ecosystem.ttl#registeredApplication">eco:registeredApplication</a> property.</p>
   <dl>
    <dd data-md>
     <p><b>NeverNote ApplicationID:</b> <code>https://nevernote.example/id#agent</code></p>
    <dd data-md>
     <p><b>SHA-256 Hash:</b> <code>70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3</code></p>
   </dl>
   <p>In our <a href="#usecase">Â§â¯3 Reference Use Case</a>, the name of the container for NeverNoteâs <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¦">Application Registration</a> would be <code>70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3</code>.</p>
   <p>There is a reasonable argument for whether or not a one-way hash alogorithm
like SHA-256 is appropriate, as we are primarily using it as a mechanism
for URL encoding to create uniform, opaque resource names,
and the ApplicationID for a given <a data-link-type="dfn" href="#application" id="ref-for-applicationâ§">Application</a> is publicly shared. However, the use of one-way hash does add a modicum
of additional privacy at a miniscule expense.</p>
   <p class="issue" id="issue-0ccfac38"><a class="self-link" href="#issue-0ccfac38"></a> Is it appropriate to use a one-way hash for application registration
resource names. <a href="https://github.com/solid/data-interoperability-panel/issues/48">Github issue</a></p>
   <h4 class="heading settled" data-level="6.2.2" id="appreg-internal"><span class="secno">6.2.2. </span><span class="content">Use of internal application space</span><a class="self-link" href="#appreg-internal"></a></h4>
   <p>There is a legitimate argument that giving <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¨">Applications</a> their own
private data space in Solid is counterintuitive to Solidâs proposition to
decouple data and <a data-link-type="dfn" href="#application" id="ref-for-applicationâ âª">Applications</a>.</p>
   <p>However, there are certain types of data that are very specific to
the function of a particular <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â ">Application</a>, and have no value to other <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¡">Applications</a>. This may include but not be limited to app-specific
preferences, configurations, caches, or indexes. Forcing that data into <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¥">shape trees</a> and <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ£">shapes</a> stored in the data registry that are supposed
to be consumable and interoperable by other <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¢">Applications</a> can lead to
frankenstein-like <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¦">shape trees</a> and <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ¤">shapes</a> that no one wants to use.
Giving <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â£">Applications</a> a private space where they can store internal data
is therefore a key factor in broad interoperability,
because it protects interoperable data from pollution by narrowly
focused elements.</p>
   <p>Ultimately, if <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¤">Applications</a> donât want to be interoperable, thereâs
no reasonable convention that could prevent it. For example, they could
decide to use proprietary vocabularies, <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ¥">shapes</a>, and <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ§">shape trees</a>.
However, there are motivating factors to
be interoperable, because in doing so they become compatible with a
slew of data that already exists in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ¤">ecosystem</a>, including data within
their competitive landscape. Providing a private space allows <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¥">Applications</a> to separate some internals from true interoperable data so that the
interoperable data is cleaner and more usable. Our belief is that
this helps avoid the creation of far-reaching app-specific silos.</p>
   <p>Because this space is private to an <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¦">Application</a> and not meant to
be interoperable, the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â§">Application</a> may or may not decide to utilize
data validation facilities like <a data-link-type="dfn" href="#shape-tree" id="ref-for-shape-treeâ¨">shape trees</a> or <a data-link-type="dfn" href="#shape" id="ref-for-shapeâ¦">shapes</a>.</p>
   <h3 class="heading settled" data-level="6.3" id="appreg-permissions"><span class="secno">6.3. </span><span class="content">Permission Model</span><a class="self-link" href="#appreg-permissions"></a></h3>
   <p>There is no public access to any data in an <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¦">Application Registry</a>.</p>
   <p>Only <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¢">Agents</a> that have been selectively trusted to assist a
given agent with managing application registration have the ability to manage
contents and permissions across <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â§">Application Registries</a>,
including the creation and modification of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â§">Application Registrations</a>.</p>
   <p>A given registered <a data-link-type="dfn" href="#application" id="ref-for-applicationâ â¨">Application</a> has read access to its <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ â¨">Application Registration</a>, and read/write access to
the data space inside its container. It does not get control privileges.</p>
   <figure>
    <figcaption>Permission model for <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ â¨">Application Registry</a> resources</figcaption>
    <table align="left" class="data permissions">
     <colgroup>
      <col>
     <colgroup>
     <colgroup>
     <colgroup span="2">
     <colgroup span="2">
     <thead>
      <tr>
       <th>
       <th scope="colgroup">Controller
       <th scope="colgroup">Public
       <th colspan="2" scope="colgroup">Selectively Trusted
       <th colspan="2" scope="colgroup">Selectively Granted
      <tr>
       <th scope="col">Resource
       <th scope="col">Access
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
       <th scope="col">Subject
       <th scope="col">Access
     <tbody>
      <tr>
       <td><code>/applications/</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>-
       <td>-
      <tr>
       <td><code>-- /applications/02f9d4221d9e5c0ae/</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Read
      <tr>
       <td><code>-- /applications/02f9d4221d9e5c0ae/*</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Write
      <tr>
       <td><code>-- /applications/6fe4221d0589d7bde/</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Read
      <tr>
       <td><code>-- /applications/6fe4221d0589d7bde/*</code>
       <td>Control
       <td>-
       <td>App. Registration Agent
       <td>Control
       <td>Registered App.
       <td>Write
    </table>
   </figure>
   <h3 class="heading settled" data-level="6.4" id="appreg-lookup"><span class="secno">6.4. </span><span class="content">Looking up an Application Registration</span><a class="self-link" href="#appreg-lookup"></a></h3>
   <p>There are a few reasons that different actors might lookup
an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡âª">Application Registration</a>:</p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â£">Agent</a> that is the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ£">resource controller</a> (e.g. Alice)
may want to view or manage their collection of registered <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡âª">Applications</a>.</p>
    <li data-md>
     <p>Another <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¤">Agent</a> may act as a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ ">trusted agent</a> to assist the
resource controller with management and registration of <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â ">Applications</a>.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¡">Application</a> may want to see if it has been registered,
and access its <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â ">Application Registration</a> if it exists. <em>This is the most frequently occuring scenario.</em></p>
   </ul>
   <p>Per the <a href="#appreg-permissions">Â§â¯6.3 Permission Model</a>, the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¤">resource controller</a> and
any <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ¡">trusted agents</a> for application registration will have access and
visibility across <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡âª">Application Registries</a> and <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¡">Application Registrations</a>. An <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¢">Application</a> will only have access to its own <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¢">Application Registration</a>,
in which case it would be linked to that <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â£">Application Registration</a> via the <a href="ecosystem.ttl#registeredApplication">eco:registeredApplication</a> property.</p>
   <p>Since <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â£">Applications</a> do not have access to the list of <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¤">Applications</a> in <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â ">Application Registries</a>, the only way they can check to see if they
are registered is to perform a direct lookup in the addressable space
of each <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¡">Application Registry</a> in the <a data-link-type="dfn" href="#application-registry-set" id="ref-for-application-registry-setâ¤">Application Registry Set</a>,
using the SHA-256 hash of its <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¢">applicationID</a>.</p>
<pre>GET https://alice.pod.example/applications/70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3
</pre>
   <p>Inability to access the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¤">Application Registration</a> would be a result of:</p>
   <ul>
    <li data-md>
     <p>There is no <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¥">Application Registration</a> for that <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¥">Application</a> in the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¢">Application Registry</a>.</p>
    <li data-md>
     <p>There is an <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¦">Application Registration</a> at the target URL, but
it cannot be accessed because it associated with a
different <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¦">Application</a>.</p>
   </ul>
   <p>In either case, the server may return either a 403 or 404 depending on
server or user privacy preference.</p>
   <p>If an <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â§">Application</a> can access the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â§">Application Registration</a>, then it can confirm that it
is already a registered <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¡â¨">Application</a> for the <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¥">Agent</a>.</p>
   <p>If an <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢âª">Application</a> is not registered, and would like to be,
it will need to go through the process of <a href="#appreg-new">Â§â¯6.5 Registering an Application</a>.</p>
   <h3 class="heading settled" data-level="6.5" id="appreg-new"><span class="secno">6.5. </span><span class="content">Registering an Application</span><a class="self-link" href="#appreg-new"></a></h3>
   <p>In almost every case, an <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â ">Application</a> will not be permitted
to register itself, and will need the
assistance of a <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ¢">trusted agent</a> that has been authorized to assist
with application registration for a given <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¦">Agent</a>.</p>
   <p class="issue" id="issue-a485599b"><a class="self-link" href="#issue-a485599b"></a> Agents that can perform these capabilities will be discoverable
through the registrar. Until that section is written, weâll use a
hard-coded properties associated with the Agent for discovery.</p>
   <p>The <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¡">Application</a> will look for another <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¢">Application</a> that is linked with the <a data-link-type="dfn" href="#agent" id="ref-for-agentâ â§">Agent</a> through the <a href="ecosystem.ttl#trustsForApplicationRegistration">eco:trustsForApplicationRegistration</a> property.</p>
   <figure>
    <figcaption><a data-link-type="dfn" href="#agent" id="ref-for-agentâ â¨">Agent</a> at https://alice.pod.example/id#me linking to Application
  Registration Agent</figcaption>
<pre class="highlight"><c- g>&lt;#me></c->
  <c- b>a</c-> <c- nn>eocsystem:</c-><c- f>Agent</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>trustsForApplicationRegistration</c-> <c- g>&lt;https://trusted.example/ar/></c-> <c- p>.</c->
</pre>
   </figure>
   <p>The <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â£">Application</a> will redirect the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¥">resource controller</a> via the
synchronous <a href="#trusted">trusted agent</a> pattern to the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¤">Application</a> linked by <a href="ecosystem.ttl#trustsForApplicationRegistration">eco:trustsForApplicationRegistration</a>,
supplying its its <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ£">ApplicationID</a> as a parameter.</p>
   <p>The <a data-link-type="dfn" href="#application-registration-agent" id="ref-for-application-registration-agent">application registration agent</a> is now expected to dereference
(i.e. perform an HTTP GET on) the <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¤">ApplicationID</a> to retrieve an <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-document">application profile document</a>. The contents of that document
help the <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡âª">Agent</a> determine whether that <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¥">Application</a> is suitable for
approval.</p>
   <p>For example, verification of a verifiable credential
stored in the <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-documentâ ">application profile document</a>, issued by a trusted third party,
is a good indicator of the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¦">Applicationâs</a> trustworthiness.
Similarly, an <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â§">Application</a>, or the <a data-link-type="dfn" href="#identity-provider" id="ref-for-identity-providerâ ">identity provider</a> it uses, may
be listed on a trusted whitelist that the <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ£">trusted agent</a> consults. It is able to raise issues related to these checks (or others)
to the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¦">resource controller</a> as part of her decision making process.</p>
   <p>Assuming suitability and confirmation from the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ§">resource controller</a>, the <a data-link-type="dfn" href="#application-registration-agent" id="ref-for-application-registration-agentâ ">application registration agent</a> will proceed to create the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¡â¨">Application Registration</a> for
the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ¢â¨">Application</a> in the appropriate <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â£">Application Registry</a>.
When it is finished, it will return her to
the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£âª">Application</a> at the <a href="ecosystem.ttl#applicationRegistrationCallback">eco:applicationRegistrationCallback</a> provided in the application profile document.</p>
   <h4 class="heading settled" data-level="6.5.1" id="appreg-creating"><span class="secno">6.5.1. </span><span class="content">Creating the application registration entry</span><a class="self-link" href="#appreg-creating"></a></h4>
   <p>The <a data-link-type="dfn" href="#application-registration-agent" id="ref-for-application-registration-agentâ¡">application registration agent</a> is responsible for creating
the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢âª">Application Registration</a> in conformance with the
documented <a href="#appreg-structure">Â§â¯6.2 Structure and Validation</a> pattern.</p>
   <p>Specifically, the <a href="ecosystem.tree#application-registration-tree">ecot:application-registration-tree</a> stipulates that the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â ">Application Registration</a> be a container via <code>tree:expectedType ldp:Container</code>.</p>
   <p>The <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¡">Application Registration</a> must be added to the RDF
graph of that container with a <code>&lt;#registration></code> subject, and pass validation
against the <a href="ecosystem.shex#ApplicationRegistrationShape">ecos:ApplicationRegistrationShape</a>.</p>
   <p>The <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¢">Application Registrationâs</a> properties must be set as follows:</p>
   <ul>
    <li data-md>
     <p><a href="ecosystem.ttl#registeredBy">eco:registeredBy</a>: linked to the <a data-link-type="dfn" href="#identity" id="ref-for-identityâ¡">identity</a> of the <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ ">authenticated agent</a> that invoked the registration
(i.e. the <a data-link-type="dfn" href="#webid" id="ref-for-webidâ ">webid</a> of the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ¨">resource controller</a>)</p>
    <li data-md>
     <p><a href="ecosystem.ttl#registeredWith">eco:registeredWith</a>: linked to the <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¥">ApplicationID</a> of the <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ¤">trusted agent</a> that facilitated the
registration, typically the <a data-link-type="dfn" href="#application-registration-agent" id="ref-for-application-registration-agentâ¢">application registration agent</a>.</p>
    <li data-md>
     <p><a href="ecosystem.ttl#registeredApplication">eco:registeredApplication</a>: linked to
the <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¦">ApplicationID</a> of the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â ">Application</a> that is being registered.</p>
    <li data-md>
     <p><a href="ecosystem.ttl#registeredAt">eco:registeredAt</a>: the <code>xsd:dateTime</code> of
the registration.</p>
   </ul>
   <figure>
    <figcaption>Example <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â£">Application Registration</a></figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>applicationRegistration</c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/id#me></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/ar></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredApplication</c-> <c- g>&lt;https://nevernote.example/id#agent></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- o>^^</c->xsd:dateTime <c- p>.</c->
</pre>
   </figure>
   <p>The <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¤">Application Registration</a> container must be named in
accordance with the instructions in <a href="#appreg-naming">Â§â¯6.2.1 Naming application registration resources</a>.</p>
   <p>The <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¥">Application Registration</a> container must be added as a child
member of the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¤">Application Registry</a> container.</p>
   <p>Access to the <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¦">Application Registration</a> must be set per the
instructions in <a href="#appreg-permissions">Â§â¯6.3 Permission Model</a>.</p>
   <p>The <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â§">Application Registration</a> must be associated with the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¥">Application Registry</a> through the <a href="ecosystem.ttl#hasRegistry">eco:hasRegistry</a> property in
the graph of the <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¦">Application Registry</a>.</p>
   <h2 class="heading settled" data-level="7" id="trusted"><span class="secno">7. </span><span class="content">Trusted Agents</span><a class="self-link" href="#trusted"></a></h2>
   <p>A <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ¥">trusted Agent</a> is an application that a <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ âª">resource controller</a> trusts
to perform actions for them with elevated privilege. They can be
trusted to help a resource controller to make smart decisions related to
their data.</p>
   <p>Thereâs no limit to what a trusted agent can
assist with, but <a href="#appreg">registering applications</a> and authorizing access to
data are two critical operations covered in this proposal.</p>
   <p>A trusted <a data-link-type="dfn" href="#application-registration-agent" id="ref-for-application-registration-agentâ£">application registration agent</a> helps the <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ â ">resource controller</a> make smart decisions about the applications they choose to utilize, and
ensure they get provisioned appropriately.</p>
   <p>A trusted agent for data authorization is needed in cases where the resource
controller wishes to grant limited access to data in her Pod to another <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ¡">authenticated agent</a> or <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ ">user-piloted application</a>, but needs
assistance to determine what access is needed, and help to provision
that access.</p>
   <p>There are three typical patterns to interact with a trusted agent; <em>Embedded</em>, <em>Synchronous</em>, and <em>Asynchronous</em>.</p>
   <p>The <strong>Embedded pattern</strong> is employed when the application in question has full
control privileges, and the trusted agent capabilities can
be executed directly. An example of an application that could fall into
this category would be a Pod management application installed by default
by the userâs Pod provider.</p>
   <p>The <strong>Synchronous pattern</strong> utilizes a web-based redirect flow much like an
OAuth2 grant flow. The user is redirected to the trusted agent URL, with
a callback parameter provided as part of the request. When the
trusted agent is finished, it sends the user back to the provided
callback URL. This is an excellent pattern for application registration
and data authorization.</p>
   <p>The <strong>Asynchronous pattern</strong> utilizes an event based model, where a message is
sent to the Trusted Agent through some mechanism (direct, pubsub, etc).
This flow is most typical for server-side/bot applications or any piloted
clients that can make use of asynchronous notification processing.</p>
   <p>A given trusted agent may employ one or more of these patterns.</p>
   <h2 class="heading settled" data-level="8" id="client"><span class="secno">8. </span><span class="content">Client Identification</span><a class="self-link" href="#client"></a></h2>
   <p>Throughout this proposal, we see cases where Alice compartmentalizes access
to her data based on who or what is access it - the <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ¢">authenticated agent</a>.
In certain cases, we also limit access based on the application in use
by Alice - the <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ¡">user-piloted application</a>.</p>
   <p>We utilize a new optional predicate in an <a data-link-type="dfn" href="#acl-resource" id="ref-for-acl-resourceâ¡">acl resource</a> statement to
restrict access to permitted <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ¢">user-piloted applications</a>, identified by their <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ§">ApplicationIDs</a>.</p>
   <p>Limiting access to data based on
the <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ£">user-piloted application</a> in use is only reliable in certain
instances when the <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â¡">application</a> can be identified with confidence.</p>
   <h3 class="heading settled" data-level="8.1" id="client-id"><span class="secno">8.1. </span><span class="content">Identifying client applications</span><a class="self-link" href="#client-id"></a></h3>
   <p>For identification purposes, client <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â¢">applications</a> in use across the world
today fall into two buckets; <em>strongly identifiable</em> and <em>weakly identifiable</em>.</p>
   <p><strong>Strongly identifiable clients</strong> can be identified by 3rd parties independently
from their user/controller. Only <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-application">server-side applications</a> are
strongly identifiable. As confidential clients, they can keep secrets
and can present attestations and third-party credentials
via DNS / domain certificates.</p>
   <p><strong>Weakly identifiable clients</strong> include in-browser JS apps and native desktop
or mobile applications. They are considered weakly identifiable because they
are not able to keep secrets on an instance level. They are often referred to
as public clients. Native apps should be strongly-identifiable in theory
(since they are able to keep secrets on an instance level), but not in
practice because the OS manufacturers do not make their trust
infrastructure available. <strong>Weakly identifiable clients are only strongly
identifiable to the user controlling them</strong>.</p>
   <h3 class="heading settled" data-level="8.2" id="client-limit"><span class="secno">8.2. </span><span class="content">Limiting access by client application</span><a class="self-link" href="#client-limit"></a></h3>
   <p>In the case of a strongly identifiable <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-applicationâ ">server-side application</a>,
the <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ£">authenticated agent</a> and the client application are the same. The client
application has its own <a data-link-type="dfn" href="#identity" id="ref-for-identityâ¢">identity</a> that can be strongly authenticated. Alice
chooses which data that client applicationâs identity can access, in the same
way that she chooses which data Bob can access.</p>
   <p>In the case of <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ¤">user-piloted applications</a>, the ability for a Solid pod to
limit access to data by the client application in use is only as strong as
the trustworthiness of the user piloting that application, and their ability
to avoid using malicious applications. The <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ¨">ApplicationID</a> can be manipulated
by the user in control of the app. This means that Alice can strongly control
the applications that she uses to compartmentalize her own data, but has
limited ability to control the applications that Bob uses to access the data
she shares with him.</p>
   <h2 class="heading settled" data-level="9" id="definitions"><span class="secno">9. </span><span class="content">Definitions</span><a class="self-link" href="#definitions"></a></h2>
   <p><b>All definitions as stated below should be considered in the context of
an interoperable <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ¥">ecosystem</a> for <a data-link-type="dfn" href="#solid" id="ref-for-solidâ¡">Solid</a>, whether explicitly stated
or not.</b></p>
   <p><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="solid">Solid</dfn> is a protocol made up of a number of open web standards
aimed at decentralizing data on the web.</p>
   <p>A Solid <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pod">pod</dfn> is a place for storing and accessing data via
the <a data-link-type="dfn" href="#solid" id="ref-for-solidâ¢">Solid</a> protocol, with mechanisms for controlling who or what can
access that data.</p>
   <p>An interoperable <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ecosystem">ecosystem</dfn> is
a collection of <a data-link-type="dfn" href="#solid" id="ref-for-solidâ£">Solid</a> compatible <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â£">applications</a> developed by one or more
entities, used by a community of users, that can safely access and manipulate
the same kinds of data in <a data-link-type="dfn" href="#pod" id="ref-for-podâ ">pods</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="agent">Agent</dfn> is a distinct individual, group, organization, or piece
of software with an identity that can be strongly authenticated. Represented
by the <a href="ecosystem.ttl#Agent">eco:Agent</a> class. Validated by the <a href="ecosystem.shex#AgentShape">ecos:AgentShape</a>. Associated with resources by the <a href="ecosystem.tree#agent-tree">ecot:agent-tree</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application">Application</dfn> is a piece of software that interfaces with a
Solid pod, either as a <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-applicationâ¡">server-side application</a>, or as a <a data-link-type="dfn" href="#user-piloted-application" id="ref-for-user-piloted-applicationâ¥">user-piloted application</a>. Represented by the <a href="ecosystem.ttl#Application">eco:Application</a> class. Validated by the <a href="ecosystem.shex#ApplicationShape">ecos:ApplicationShape</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="server-side-application">server-side application</dfn> runs on a dedicated server. They may
also act as autonomous <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ¤">authenticated agents</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="user-piloted-application">user-piloted application</dfn> runs on a userâs device, with the user
as the <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ¥">authenticated agent</a>. They include in-browser javascript
applications, native desktop applications, and mobile applications.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity">identity</dfn> in Solid is a unique URI that can be dereferenced to
return an <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ¢">identity profile document</a>. Compatible identity systems
include <a data-link-type="dfn" href="#webid" id="ref-for-webidâ¡">WebID</a> and <a data-link-type="dfn" href="#did" id="ref-for-did">DID</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity-profile-document">identity profile document</dfn> is a linked data document obtained
by dereferencing the URI for a given <a data-link-type="dfn" href="#identity" id="ref-for-identityâ£">identity</a>. It provides information
that can be used to prove that a given <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â ">agent</a> controls the document.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="authenticated-agent">authenticated agent</dfn> is an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¡">agent</a> that has strongly
authenticated their <a data-link-type="dfn" href="#identity" id="ref-for-identityâ¤">identity</a> by proving control of the <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ£">identity profile document</a> via an authentication protocol such as <a data-link-type="biblio" href="#biblio-webid-oidc">[WEBID-OIDC]</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="webid">WebID</dfn> is a web resource at an HTTP URI which refers to an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¢">agent</a>. An <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ¤">identity profile document</a> can be accessed by
dereferencing the WebID. <a data-link-type="biblio" href="#biblio-webid">[WEBID]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="did">DID</dfn> is a URI that associates a DID subject (e.g. an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â£">agent</a>,
thing, data model, abstract entity, etc.) with a DID document,
equivalent to an <a data-link-type="dfn" href="#identity-profile-document" id="ref-for-identity-profile-documentâ¥">identity profile document</a>, to allow trustable
interactions with that subject. <a data-link-type="biblio" href="#biblio-did">[DID]</a></p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity-provider">identity provider</dfn> furnishes an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¤">agent</a> with authenticated
credentials that prove agent is who it says it is, across the web.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="token">token</dfn> is used to make authenticated requests to the <a data-link-type="dfn" href="#solid" id="ref-for-solidâ¤">Solid</a> server for a given <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ¦">authenticated agent</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="applicationid">ApplicationID</dfn> is a web resource at an HTTP URI uniquely associated
with a given <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â¤">application</a>. For <a data-link-type="dfn" href="#server-side-application" id="ref-for-server-side-applicationâ¢">server-side applications</a>, it may also
serve as an <a data-link-type="dfn" href="#identity" id="ref-for-identityâ¥">identity</a>. An <a data-link-type="dfn" href="#application-profile-document" id="ref-for-application-profile-documentâ¡">application profile document</a> can be
accessed by dereferencing the ApplicationID.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-profile-document">application profile document</dfn> is a linked data document
obtained by dereferencing the URI for a given <a data-link-type="dfn" href="#applicationid" id="ref-for-applicationidâ âª">ApplicationID</a>. It contains
useful information about an application that can be employed in
various workflows including application registration and data authorization.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="resource-controller">resource controller</dfn> is an <a data-link-type="dfn" href="#authenticated-agent" id="ref-for-authenticated-agentâ§">authenticated agent</a> with full
privileges and control over a given resource or set of resources.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="acl-resource">acl resource</dfn> as defined by <a data-link-type="biblio" href="#biblio-wac">[WAC]</a> may be directly
associated with a resource or indirectly associated with a resource
through inheritance. It determines which <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¥">agents</a> can access a
resource, and the modes of access they have for it.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="trusted-agent">trusted agent</dfn> is any <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â¥">application</a> that a <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ â¡">resource controller</a> trusts to perform actions for them. These
actions typically require some level of escalated privileges.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape">shape</dfn> provides a schema that RDF data graphs must meet in order
to be considered conformant. A shape associated with a given resource in a <a data-link-type="dfn" href="#pod" id="ref-for-podâ¡">pod</a> ensures that any data stored in that resource must conform to the
associated shape. Shape languages include <a data-link-type="biblio" href="#biblio-shex">[SHEX]</a> and <a data-link-type="biblio" href="#biblio-shacl">[SHACL]</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shape-tree">shape tree</dfn> defines a prospective tree of related resources
which can be read and written by applications. The shape tree associates
each of these resources with a shape. This allows one to treat a set of
related resources as a single grouping, and apply that to a range of
operations including access control, data organization, data validation,
and data migration. <a data-link-type="biblio" href="#biblio-shapetrees">[SHAPETREES]</a></p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registrar">Registrar</dfn> for a given <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¦">Agent</a> provides <a data-link-type="dfn" href="#registry" id="ref-for-registryâ â¡">Registries</a>,
organized in <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ§">Registry Sets</a>. Represented by the <a href="ecosystem.ttl#Registrar">eco:Registrar</a> class. Validated by the <a href="ecosystem.shex#RegistrarShape">ecos:RegistrarShape</a>. Associated with
resources by the <a href="ecosystem.tree#registrar-shape-tree">ecot:registrar-shape-tree</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registry-set">Registry Set</dfn> is a collection of one or more registries of a
specific type, including <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â§">Application Registries</a>, Data Registries,
Access Registries, and Remote Registries. Represented by the <a href="ecosystem.ttl#RegistrySet">eco:RegistrySet</a> class.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registry-set">Application Registry Set</dfn> is a <a data-link-type="dfn" href="#registry-set" id="ref-for-registry-setâ¨">Registry Set</a> specifically
made up of <a data-link-type="dfn" href="#application-registry" id="ref-for-application-registryâ¡â¨">Application Registries</a>. Represented by the <a href="ecosystem.ttl#ApplicationRegistySet">eco:ApplicationRegistrySet</a> class.
Validated by the <a href="ecosystem.shex#RegistrySetShape">ecos:ApplicationRegistrySetShape</a>.
Associated with resources by the <a href="ecosystem.tree#application-registry-set-tree">ecot:application-registry-set-tree</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registry">Registry</dfn> is a place where an <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â§">Agent</a> can register, store,
and lookup essential data needed to participate in the <a data-link-type="dfn" href="#ecosystem" id="ref-for-ecosystemâ¦">ecosystem</a>.
Represented by the <a href="ecosystem.ttl#Registry">eco:Registry</a> class.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="registration">Registration</dfn> is...</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registry">Application Registry</dfn> is a collection of <a data-link-type="dfn" href="#application-registration" id="ref-for-application-registrationâ¢â¨">Application Registrations</a> stored in a specific location in a <a data-link-type="dfn" href="#pod" id="ref-for-podâ¢">pod</a>.
Represented by the <a href="ecosystem.ttl#ApplicationRegistry">eco:ApplicationRegistry</a> class,
and validated by the <a href="ecosystem.shex#ApplicationRegistryShape">ecos:ApplicationRegistryShape</a>,
through the <a href="ecosystem.tree#application-registry-tree">ecot:application-registry-tree</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registration">Application Registration</dfn> provides the <a data-link-type="dfn" href="#agent" id="ref-for-agentâ¡â¨">Agent</a> with a place to maintain metadata, state, preferences, and
other application-specific data associated with a given <a data-link-type="dfn" href="#application" id="ref-for-applicationâ£â¦">Application</a> they
have elected to use. Represented by the <a href="ecosystem.ttl#ApplicationRegistration">eco:ApplicationRegistration</a> class,
and validated by the <a href="ecosystem.shex#ApplicationRegistrationShape">ecos:ApplicationRegistrationShape</a>,
through the <a href="ecosystem.tree#application-registration-tree">ecot:application-registration-tree</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="application-registration-agent">application registration agent</dfn> is a type of <a data-link-type="dfn" href="#trusted-agent" id="ref-for-trusted-agentâ¦">trusted agent</a> that a <a data-link-type="dfn" href="#resource-controller" id="ref-for-resource-controllerâ â¢">resource controller</a> uses to register and manage applications that
interface with their <a data-link-type="dfn" href="#pod" id="ref-for-podâ£">pod</a>.</p>
   <h2 class="heading settled" data-level="10" id="environment"><span class="secno">10. </span><span class="content">Use Case Environment</span><a class="self-link" href="#environment"></a></h2>
   <p class="issue" id="issue-faeb6546"><a class="self-link" href="#issue-faeb6546"></a> Add the contents of the ecosystem vocabulary</p>
   <h3 class="heading settled" data-level="10.1" id="people"><span class="secno">10.1. </span><span class="content">People</span><a class="self-link" href="#people"></a></h3>
   <h4 class="heading settled" data-level="10.1.1" id="alice"><span class="secno">10.1.1. </span><span class="content">Alice</span><a class="self-link" href="#alice"></a></h4>
   <table>
    <tbody>
     <tr>
      <td>
      <th>Aliceâs Pod URL
      <td>https://alice.pod.example
     <tr>
      <td>
      <th>Aliceâs WebID
      <td>https://alice.pod.example/id#me
   </table>
   <h5 class="heading settled" data-level="10.1.1.1" id="alice-profile"><span class="secno">10.1.1.1. </span><span class="content">Aliceâs Profile Document</span><a class="self-link" href="#alice-profile"></a></h5>
   <p class="issue" id="issue-edfeeb49"><a class="self-link" href="#issue-edfeeb49"></a> Need to provide more detail around <em>how</em> applications, data, access,
remote registry items get organized into different registries with a set along
with use cases.</p>
   <figure>
    <figcaption>Aliceâs identity profile document at
  https://alice.pod.example/id</figcaption>
<pre class="highlight"><c- k>@prefix</c-> <c- nn>solid:</c-> <c- g>&lt;http://www.w3.org/ns/solid/terms#></c-> <c- p>.</c->
<c- k>@prefix</c-> <c- nn>eco:</c-> <c- g>&lt;http://www.w3.org/ns/solid/ecosystem#></c-> <c- p>.</c->

<c- g>&lt;#me></c->
    <c- b>a</c-> <c- nn>eco:</c-><c- f>Agent</c-><c- p>;</c->
    <c- nn>eco:</c-><c- f>hasRegistrar</c-> <c- g>&lt;https://alice.pod.example/registries/#registrar></c-> <c- p>;</c->
    <c- c># Trusted Agents</c->
    <c- nn>eco:</c-><c- f>trustsForApplicationRegistration</c-> <c- g>&lt;https://trusted.example/ar/></c-> <c- p>;</c->
    <c- c># Notification Endpoints</c->
    <c- nn>eco:</c-><c- f>hasAccessInbox</c-> <c- g>&lt;https://alice.pod.example/access/inbox></c-> <c- p>.</c->
    <c- c># Identity Provider</c->
    <c- nn>solid:</c-><c- f>oidcIssuer</c-> <c- g>&lt;https://idp.example></c-> <c- p>;</c->
</pre>
   </figure>
   <h5 class="heading settled" data-level="10.1.1.2" id="alice-registrar"><span class="secno">10.1.1.2. </span><span class="content">Aliceâs Registrar</span><a class="self-link" href="#alice-registrar"></a></h5>
   <figure>
    <figcaption>Aliceâs registrar instance at
  https://alice.pod.example/registries/application#set</figcaption>
<pre class="highlight"><c- g>&lt;#registrar></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>Registrar</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>hasApplicationRegistrySet</c-> <c- g>&lt;https://alice.pod.example/registries/application#set></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>hasDataRegistrySet</c-> <c- g>&lt;https://alice.pod.example/registries/data#set></c-> <c- p>.</c->
</pre>
   </figure>
   <h5 class="heading settled" data-level="10.1.1.3" id="alice-appregset"><span class="secno">10.1.1.3. </span><span class="content">Aliceâs Application Registry Set</span><a class="self-link" href="#alice-appregset"></a></h5>
   <figure>
    <figcaption>Aliceâs application registry set instance at
  https://alice.pod.example/registries/application#set</figcaption>
<pre class="highlight"><c- g>&lt;#set></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistrySet</c-><c- p>;</c->
  <c- nn>eco:</c-><c- f>hasApplicationRegistry</c-> <c- g>&lt;https://alice.pod.example/applications/#registry></c-> <c- p>,</c->
                             <c- g>&lt;https://alice.otherpod.example/applications/#registry></c-> <c- p>.</c->
</pre>
   </figure>
   <h5 class="heading settled" data-level="10.1.1.4" id="alice-appregistry"><span class="secno">10.1.1.4. </span><span class="content">Aliceâs Application Registry</span><a class="self-link" href="#alice-appregistry"></a></h5>
   <figure>
    <figcaption>Aliceâs application registry instance at
  https://alice.pod.example/applications/#registry</figcaption>
<pre class="highlight"><c- g>&lt;#registry></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistry</c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>hasRegistration</c-> <c- g>&lt;https://alice.pod.example/applications/70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3/#registration></c-> <c- p>.</c->
</pre>
   </figure>
   <p>Note that <code>https://alice.pod.example/applications/</code> is a container,
and #registry is stored in the RDF graph of the container resource.</p>
   <h5 class="heading settled" data-level="10.1.1.5" id="alice-appregnevernote"><span class="secno">10.1.1.5. </span><span class="content">Aliceâs Application Registration for Nevernote</span><a class="self-link" href="#alice-appregnevernote"></a></h5>
   <figure>
    <figcaption>Aliceâs application registration instance for NeverNote at
  https://alice.pod.example/applications/70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3/#registration</figcaption>
<pre class="highlight"><c- g>&lt;#registration></c->
  <c- b>a</c-> <c- nn>eco:</c-><c- f>ApplicationRegistration</c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredBy</c-> <c- g>&lt;https://alice.pod.example/id#me></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredWith</c-> <c- g>&lt;https://trusted.example/ar></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredApplication</c-> <c- g>&lt;https://nevernote.example/id#agent></c-> <c- p>;</c->
  <c- nn>eco:</c-><c- f>registeredAt</c-> <c- s>"2020-04-04T20:15:47.000Z"</c-><c- o>^^</c->xsd:dateTime <c- p>.</c->
</pre>
   </figure>
   <p>Note that <code>https://alice.pod.example/applications/70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3/</code> is a container, and #registration is stored in the RDF graph of the
container resource.</p>
   <h3 class="heading settled" data-level="10.2" id="applications"><span class="secno">10.2. </span><span class="content">Applications</span><a class="self-link" href="#applications"></a></h3>
   <h4 class="heading settled" data-level="10.2.1" id="nevernote"><span class="secno">10.2.1. </span><span class="content">NeverNote</span><a class="self-link" href="#nevernote"></a></h4>
   <table>
    <tbody>
     <tr>
      <td>
      <th>Application URL
      <td>https://nevernote.example
     <tr>
      <td>
      <th>Application ID (AppID)
      <td>https://nevernote.example/id#agent
     <tr>
      <td>
      <th>SHA-256 Hash of AppID
      <td>70e9249113f8aef095626980e82f13833f24a902571502ef726b4d7e69739ba3
   </table>
   <h5 class="heading settled" data-level="10.2.1.1" id="nevernote-profile"><span class="secno">10.2.1.1. </span><span class="content">NeverNoteâs Profile Document</span><a class="self-link" href="#nevernote-profile"></a></h5>
   <figure>
    <figcaption>Contents of NeverNoteâs Profile Document at
  https://nevernote.example/id#agent</figcaption>
<pre class="highlight"><c- k>@prefix</c-> <c- nn>solid:</c-> <c- g>&lt;http://www.w3.org/ns/solid/terms#></c-> <c- p>.</c->
<c- k>@prefix</c-> <c- nn>eco:</c-> <c- g>&lt;http://www.w3.org/ns/solid/ecosystem#></c-> <c- p>.</c->
<c- k>@prefix</c-> <c- nn>acl:</c-> <c- g>&lt;http://www.w3.org/ns/auth/acl></c-> <c- p>.</c->

<c- g>&lt;#agent></c->
    <c- c># this is an application, not a person</c->
    <c- b>a</c-> <c- nn>eco:</c-><c- f>Application</c-><c- p>;</c->
    <c- c># redirect to this URL after going through authorization agent workflow</c->
    <c- nn>eco:</c-><c- f>authorizationCallback</c-> <c- g>&lt;https://nevernote.example/data-authorization></c-> <c- p>;</c->
    <c- c># redirect to this URL after going through application registration</c->
    <c- c># agent workflow</c->
    <c- nn>eco:</c-><c- f>applicationRegistrationCallback</c-> <c- g>&lt;https://nevernote.example/app-registration></c-> <c- p>;</c->

<c- c># Declaration of the type of access this application needs</c->
<c- c># UUID randomly generated for subject value</c->
<c- g>&lt;#33116309-1667-4a7b-a91f-4dbf177e3f95></c->
    <c- b>a</c-> <c- nn>eco:</c-><c- f>accessNeed</c-><c- p>;</c->
    <c- c># Access needs related to notebook shape trees</c->
    <c- nn>eco:</c-><c- f>shapetree</c-> <c- g>&lt;https://shapetrees.example/commonnote#notebook></c->
    <c- c># Request permission create new notebook shape trees</c->
    <c- nn>eco:</c-><c- f>shapetreeCreate</c-> <c- l>true</c-><c- p>;</c->
    <c- c># Request permission to read and write created notebook shape trees</c->
    <c- nn>eco:</c-><c- f>shapetreeCreateAccess</c-> <c- p>[</c-> <c- nn>acl:</c-><c- f>Read</c-><c- p>,</c-> <c- nn>acl:</c-><c- f>Write</c-> <c- p>];</c->
    <c- c># Request access to any existing notebook shape trees</c->
    <c- nn>eco:</c-><c- f>shapetreeExistingAccess</c-> <c- l>true</c-><c- p>;</c->
    <c- c># Request permission to read and write existing notebook shape trees</c->
    <c- nn>eco:</c-><c- f>shapetreeExistingAccess</c-> <c- p>[</c-> <c- nn>acl:</c-><c- f>Read</c-><c- p>,</c-> <c- nn>acl:</c-><c- f>Write</c-> <c- p>].</c->

<c- g>&lt;#75054942-b8b4-4e3a-84e4-7b564ca1ae7a></c->
    <c- b>a</c-> <c- nn>eco:</c-><c- f>accessNeed</c-><c- p>;</c->
    <c- nn>eco:</c-><c- f>shapetree</c-> <c- g>&lt;https://shapetrees.example/commonnote#note></c-><c- p>;</c->
    <c- nn>eco:</c-><c- f>shapetreeCreate</c-> <c- l>true</c-><c- p>;</c->
    <c- nn>eco:</c-><c- f>shapetreeCreateAccess</c-> <c- p>[</c-> <c- nn>acl:</c-><c- f>Read</c-><c- p>,</c-> <c- nn>acl:</c-><c- f>Write</c-> <c- p>]</c-> <c- p>;</c->
    <c- nn>eco:</c-><c- f>shapetreeExistingAccess</c-> <c- l>true</c-><c- p>;</c->
    <c- nn>eco:</c-><c- f>shapetreeExistingAccess</c-> <c- p>[</c-> <c- nn>acl:</c-><c- f>Read</c-><c- p>,</c-> <c- nn>acl:</c-><c- f>Write</c-> <c- p>].</c->
</pre>
   </figure>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words âMUSTâ, âMUST NOTâ, âREQUIREDâ, âSHALLâ, âSHALL NOTâ, âSHOULDâ, âSHOULD NOTâ, âRECOMMENDEDâ, âMAYâ, and âOPTIONALâ
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words âfor exampleâ
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word âNoteâ
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">â</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">â</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">â</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Donât scroll to compensate for the ToC if weâre above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I donât know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldnât exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isnât standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we donât have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While weâre at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Canât find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#acl-resource">acl resource</a><span>, in Â§9</span>
   <li><a href="#agent">Agent</a><span>, in Â§9</span>
   <li><a href="#application">Application</a><span>, in Â§9</span>
   <li><a href="#applicationid">ApplicationID</a><span>, in Â§9</span>
   <li><a href="#application-profile-document">application profile document</a><span>, in Â§9</span>
   <li><a href="#application-registration">Application Registration</a><span>, in Â§9</span>
   <li><a href="#application-registration-agent">application registration agent</a><span>, in Â§9</span>
   <li><a href="#application-registry">Application Registry</a><span>, in Â§9</span>
   <li><a href="#application-registry-set">Application Registry Set</a><span>, in Â§9</span>
   <li><a href="#authenticated-agent">authenticated agent</a><span>, in Â§9</span>
   <li><a href="#did">DID</a><span>, in Â§9</span>
   <li><a href="#ecosystem">ecosystem</a><span>, in Â§9</span>
   <li><a href="#identity">identity</a><span>, in Â§9</span>
   <li><a href="#identity-profile-document">identity profile document</a><span>, in Â§9</span>
   <li><a href="#identity-provider">identity provider</a><span>, in Â§9</span>
   <li><a href="#pod">pod</a><span>, in Â§9</span>
   <li><a href="#registrar">Registrar</a><span>, in Â§9</span>
   <li><a href="#registration">Registration</a><span>, in Â§9</span>
   <li><a href="#registry">Registry</a><span>, in Â§9</span>
   <li><a href="#registry-set">Registry Set</a><span>, in Â§9</span>
   <li><a href="#resource-controller">resource controller</a><span>, in Â§9</span>
   <li><a href="#server-side-application">server-side application</a><span>, in Â§9</span>
   <li><a href="#shape">shape</a><span>, in Â§9</span>
   <li><a href="#shape-tree">shape tree</a><span>, in Â§9</span>
   <li><a href="#solid">Solid</a><span>, in Â§9</span>
   <li><a href="#token">token</a><span>, in Â§9</span>
   <li><a href="#trusted-agent">trusted agent</a><span>, in Â§9</span>
   <li><a href="#user-piloted-application">user-piloted application</a><span>, in Â§9</span>
   <li><a href="#webid">WebID</a><span>, in Â§9</span>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-did">[DID]
   <dd>Drummond Reed; et al. <a href="https://www.w3.org/TR/did-core/">Decentralized Identifiers (DIDs) v1.0</a>. URL: <a href="https://www.w3.org/TR/did-core/">https://www.w3.org/TR/did-core/</a>
   <dt id="biblio-problems-and-goals">[PROBLEMS-AND-GOALS]
   <dd>Justin Bingham; et al. <a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md">Problems and Goals for Interoperability, Collaboration, and Security in a Solid Pod</a>. URL: <a href="https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md">https://github.com/solid/data-interoperability-panel/blob/master/problems-and-goals.md</a>
   <dt id="biblio-shacl">[SHACL]
   <dd>Holger Knublauch; Dimitris Kontokostas. <a href="https://www.w3.org/TR/shacl/">Shapes Constraint Language (SHACL)</a>. URL: <a href="https://www.w3.org/TR/shacl/">https://www.w3.org/TR/shacl/</a>
   <dt id="biblio-shapetrees">[SHAPETREES]
   <dd>Justin Bingham; et al. <a href="https://shapetrees.org">Shape Trees</a>. URL: <a href="https://shapetrees.org">https://shapetrees.org</a>
   <dt id="biblio-shex">[SHEX]
   <dd>Eric Prud'hommeaux; et al. <a href="http://shex.io/shex-semantics/index.html">Shape Expressions Language 2.1</a>. URL: <a href="http://shex.io/shex-semantics/index.html">http://shex.io/shex-semantics/index.html</a>
   <dt id="biblio-wac">[WAC]
   <dd><a href="https://solid.github.io/specification/wac/">Web Access Control</a>. URL: <a href="https://solid.github.io/specification/wac/">https://solid.github.io/specification/wac/</a>
   <dt id="biblio-webid">[WEBID]
   <dd>Tim Berners-Lee; Henry Story; Andrei Sambra. <a href="https://www.w3.org/2005/Incubator/webid/spec/identity/">WebID 1.0</a>. URL: <a href="https://www.w3.org/2005/Incubator/webid/spec/identity/">https://www.w3.org/2005/Incubator/webid/spec/identity/</a>
   <dt id="biblio-webid-oidc">[WEBID-OIDC]
   <dd>Dmitri Zagidulin. <a href="https://github.com/solid/webid-oidc-spec">WebID-OIDC Authentication Specification</a>. URL: <a href="https://github.com/solid/webid-oidc-spec">https://github.com/solid/webid-oidc-spec</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> Complete Data Registration and Data Authorization and update this
section.<a href="#issue-27bb05e9"> âµ </a></div>
   <div class="issue"> Complete Collaborative Access then update this section.<a href="#issue-53b6e44d"> âµ </a></div>
   <div class="issue"> Expand this text further to demonstrate the association with the
traditional identity profile document when dereferencing a webid, with
data model, structure/validation, and perms.<a href="#issue-5ca9e043"> âµ </a></div>
   <div class="issue"> Is it appropriate to use a one-way hash for application registration
resource names. <a href="https://github.com/solid/data-interoperability-panel/issues/48">Github issue</a><a href="#issue-0ccfac38"> âµ </a></div>
   <div class="issue"> Agents that can perform these capabilities will be discoverable
through the registrar. Until that section is written, weâll use a
hard-coded properties associated with the Agent for discovery.<a href="#issue-a485599b"> âµ </a></div>
   <div class="issue"> Add the contents of the ecosystem vocabulary<a href="#issue-faeb6546"> âµ </a></div>
   <div class="issue"> Need to provide more detail around <em>how</em> applications, data, access,
remote registry items get organized into different registries with a set along
with use cases.<a href="#issue-edfeeb49"> âµ </a></div>
  </div>
  <aside class="dfn-panel" data-for="solid">
   <b><a href="#solid">#solid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-solid">2. Proposal</a> <a href="#ref-for-solidâ ">(2)</a>
    <li><a href="#ref-for-solidâ¡">9. Definitions</a> <a href="#ref-for-solidâ¢">(2)</a> <a href="#ref-for-solidâ£">(3)</a> <a href="#ref-for-solidâ¤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="pod">
   <b><a href="#pod">#pod</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-pod">2. Proposal</a>
    <li><a href="#ref-for-podâ ">9. Definitions</a> <a href="#ref-for-podâ¡">(2)</a> <a href="#ref-for-podâ¢">(3)</a> <a href="#ref-for-podâ£">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ecosystem">
   <b><a href="#ecosystem">#ecosystem</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ecosystem">2. Proposal</a>
    <li><a href="#ref-for-ecosystemâ ">4. Agent</a>
    <li><a href="#ref-for-ecosystemâ¡">5.1. Registrar Data Model</a>
    <li><a href="#ref-for-ecosystemâ¢">5.2. Structure and Validation</a>
    <li><a href="#ref-for-ecosystemâ£">6. Application Registration</a>
    <li><a href="#ref-for-ecosystemâ¤">6.2.2. Use of internal application space</a>
    <li><a href="#ref-for-ecosystemâ¥">9. Definitions</a> <a href="#ref-for-ecosystemâ¦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="agent">
   <b><a href="#agent">#agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-agent">2. Proposal</a>
    <li><a href="#ref-for-agentâ ">4. Agent</a>
    <li><a href="#ref-for-agentâ¡">5. Registrar</a>
    <li><a href="#ref-for-agentâ¢">5.1. Registrar Data Model</a> <a href="#ref-for-agentâ£">(2)</a> <a href="#ref-for-agentâ¤">(3)</a> <a href="#ref-for-agentâ¥">(4)</a>
    <li><a href="#ref-for-agentâ¦">5.2. Structure and Validation</a> <a href="#ref-for-agentâ§">(2)</a> <a href="#ref-for-agentâ¨">(3)</a>
    <li><a href="#ref-for-agentâ âª">6. Application Registration</a>
    <li><a href="#ref-for-agentâ â ">6.1. Data Model</a>
    <li><a href="#ref-for-agentâ â¡">6.2. Structure and Validation</a>
    <li><a href="#ref-for-agentâ â¢">6.3. Permission Model</a>
    <li><a href="#ref-for-agentâ â£">6.4. Looking up an Application Registration</a> <a href="#ref-for-agentâ â¤">(2)</a> <a href="#ref-for-agentâ â¥">(3)</a>
    <li><a href="#ref-for-agentâ â¦">6.5. Registering an Application</a> <a href="#ref-for-agentâ â§">(2)</a> <a href="#ref-for-agentâ â¨">(3)</a> <a href="#ref-for-agentâ¡âª">(4)</a>
    <li><a href="#ref-for-agentâ¡â ">9. Definitions</a> <a href="#ref-for-agentâ¡â¡">(2)</a> <a href="#ref-for-agentâ¡â¢">(3)</a> <a href="#ref-for-agentâ¡â£">(4)</a> <a href="#ref-for-agentâ¡â¤">(5)</a> <a href="#ref-for-agentâ¡â¥">(6)</a> <a href="#ref-for-agentâ¡â¦">(7)</a> <a href="#ref-for-agentâ¡â§">(8)</a> <a href="#ref-for-agentâ¡â¨">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application">
   <b><a href="#application">#application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application">2. Proposal</a> <a href="#ref-for-applicationâ ">(2)</a>
    <li><a href="#ref-for-applicationâ¡">6. Application Registration</a> <a href="#ref-for-applicationâ¢">(2)</a> <a href="#ref-for-applicationâ£">(3)</a>
    <li><a href="#ref-for-applicationâ¤">6.1. Data Model</a>
    <li><a href="#ref-for-applicationâ¥">6.2. Structure and Validation</a>
    <li><a href="#ref-for-applicationâ¦">6.2.1. Naming application registration resources</a> <a href="#ref-for-applicationâ§">(2)</a>
    <li><a href="#ref-for-applicationâ¨">6.2.2. Use of internal application space</a> <a href="#ref-for-applicationâ âª">(2)</a> <a href="#ref-for-applicationâ â ">(3)</a> <a href="#ref-for-applicationâ â¡">(4)</a> <a href="#ref-for-applicationâ â¢">(5)</a> <a href="#ref-for-applicationâ â£">(6)</a> <a href="#ref-for-applicationâ â¤">(7)</a> <a href="#ref-for-applicationâ â¥">(8)</a> <a href="#ref-for-applicationâ â¦">(9)</a> <a href="#ref-for-applicationâ â§">(10)</a>
    <li><a href="#ref-for-applicationâ â¨">6.3. Permission Model</a>
    <li><a href="#ref-for-applicationâ¡âª">6.4. Looking up an Application Registration</a> <a href="#ref-for-applicationâ¡â ">(2)</a> <a href="#ref-for-applicationâ¡â¡">(3)</a> <a href="#ref-for-applicationâ¡â¢">(4)</a> <a href="#ref-for-applicationâ¡â£">(5)</a> <a href="#ref-for-applicationâ¡â¤">(6)</a> <a href="#ref-for-applicationâ¡â¥">(7)</a> <a href="#ref-for-applicationâ¡â¦">(8)</a> <a href="#ref-for-applicationâ¡â§">(9)</a> <a href="#ref-for-applicationâ¡â¨">(10)</a> <a href="#ref-for-applicationâ¢âª">(11)</a>
    <li><a href="#ref-for-applicationâ¢â ">6.5. Registering an Application</a> <a href="#ref-for-applicationâ¢â¡">(2)</a> <a href="#ref-for-applicationâ¢â¢">(3)</a> <a href="#ref-for-applicationâ¢â£">(4)</a> <a href="#ref-for-applicationâ¢â¤">(5)</a> <a href="#ref-for-applicationâ¢â¥">(6)</a> <a href="#ref-for-applicationâ¢â¦">(7)</a> <a href="#ref-for-applicationâ¢â§">(8)</a> <a href="#ref-for-applicationâ¢â¨">(9)</a> <a href="#ref-for-applicationâ£âª">(10)</a>
    <li><a href="#ref-for-applicationâ£â ">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-applicationâ£â¡">8. Client Identification</a>
    <li><a href="#ref-for-applicationâ£â¢">8.1. Identifying client applications</a>
    <li><a href="#ref-for-applicationâ£â£">9. Definitions</a> <a href="#ref-for-applicationâ£â¤">(2)</a> <a href="#ref-for-applicationâ£â¥">(3)</a> <a href="#ref-for-applicationâ£â¦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="server-side-application">
   <b><a href="#server-side-application">#server-side-application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-server-side-application">8.1. Identifying client applications</a>
    <li><a href="#ref-for-server-side-applicationâ ">8.2. Limiting access by client application</a>
    <li><a href="#ref-for-server-side-applicationâ¡">9. Definitions</a> <a href="#ref-for-server-side-applicationâ¢">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="user-piloted-application">
   <b><a href="#user-piloted-application">#user-piloted-application</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-user-piloted-application">2. Proposal</a>
    <li><a href="#ref-for-user-piloted-applicationâ ">7. Trusted Agents</a>
    <li><a href="#ref-for-user-piloted-applicationâ¡">8. Client Identification</a> <a href="#ref-for-user-piloted-applicationâ¢">(2)</a> <a href="#ref-for-user-piloted-applicationâ£">(3)</a>
    <li><a href="#ref-for-user-piloted-applicationâ¤">8.2. Limiting access by client application</a>
    <li><a href="#ref-for-user-piloted-applicationâ¥">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity">
   <b><a href="#identity">#identity</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity">4. Agent</a>
    <li><a href="#ref-for-identityâ ">5.2. Structure and Validation</a>
    <li><a href="#ref-for-identityâ¡">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-identityâ¢">8.2. Limiting access by client application</a>
    <li><a href="#ref-for-identityâ£">9. Definitions</a> <a href="#ref-for-identityâ¤">(2)</a> <a href="#ref-for-identityâ¥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity-profile-document">
   <b><a href="#identity-profile-document">#identity-profile-document</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity-profile-document">4. Agent</a>
    <li><a href="#ref-for-identity-profile-documentâ ">5.2. Structure and Validation</a>
    <li><a href="#ref-for-identity-profile-documentâ¡">5.3. Permission Model</a>
    <li><a href="#ref-for-identity-profile-documentâ¢">9. Definitions</a> <a href="#ref-for-identity-profile-documentâ£">(2)</a> <a href="#ref-for-identity-profile-documentâ¤">(3)</a> <a href="#ref-for-identity-profile-documentâ¥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="authenticated-agent">
   <b><a href="#authenticated-agent">#authenticated-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-authenticated-agent">2. Proposal</a>
    <li><a href="#ref-for-authenticated-agentâ ">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-authenticated-agentâ¡">7. Trusted Agents</a>
    <li><a href="#ref-for-authenticated-agentâ¢">8. Client Identification</a>
    <li><a href="#ref-for-authenticated-agentâ£">8.2. Limiting access by client application</a>
    <li><a href="#ref-for-authenticated-agentâ¤">9. Definitions</a> <a href="#ref-for-authenticated-agentâ¥">(2)</a> <a href="#ref-for-authenticated-agentâ¦">(3)</a> <a href="#ref-for-authenticated-agentâ§">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="webid">
   <b><a href="#webid">#webid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-webid">3. Reference Use Case</a>
    <li><a href="#ref-for-webidâ ">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-webidâ¡">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="did">
   <b><a href="#did">#did</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-did">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity-provider">
   <b><a href="#identity-provider">#identity-provider</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity-provider">3.1. Alice registers NeverNote</a>
    <li><a href="#ref-for-identity-providerâ ">6.5. Registering an Application</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="token">
   <b><a href="#token">#token</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-token">3.1. Alice registers NeverNote</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="applicationid">
   <b><a href="#applicationid">#applicationid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-applicationid">2. Proposal</a>
    <li><a href="#ref-for-applicationidâ ">6.1. Data Model</a>
    <li><a href="#ref-for-applicationidâ¡">6.2.1. Naming application registration resources</a>
    <li><a href="#ref-for-applicationidâ¢">6.4. Looking up an Application Registration</a>
    <li><a href="#ref-for-applicationidâ£">6.5. Registering an Application</a> <a href="#ref-for-applicationidâ¤">(2)</a>
    <li><a href="#ref-for-applicationidâ¥">6.5.1. Creating the application registration entry</a> <a href="#ref-for-applicationidâ¦">(2)</a>
    <li><a href="#ref-for-applicationidâ§">8. Client Identification</a>
    <li><a href="#ref-for-applicationidâ¨">8.2. Limiting access by client application</a>
    <li><a href="#ref-for-applicationidâ âª">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-profile-document">
   <b><a href="#application-profile-document">#application-profile-document</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-profile-document">6.5. Registering an Application</a> <a href="#ref-for-application-profile-documentâ ">(2)</a>
    <li><a href="#ref-for-application-profile-documentâ¡">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="resource-controller">
   <b><a href="#resource-controller">#resource-controller</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resource-controller">2. Proposal</a> <a href="#ref-for-resource-controllerâ ">(2)</a> <a href="#ref-for-resource-controllerâ¡">(3)</a>
    <li><a href="#ref-for-resource-controllerâ¢">5.3. Permission Model</a>
    <li><a href="#ref-for-resource-controllerâ£">6.4. Looking up an Application Registration</a> <a href="#ref-for-resource-controllerâ¤">(2)</a>
    <li><a href="#ref-for-resource-controllerâ¥">6.5. Registering an Application</a> <a href="#ref-for-resource-controllerâ¦">(2)</a> <a href="#ref-for-resource-controllerâ§">(3)</a>
    <li><a href="#ref-for-resource-controllerâ¨">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-resource-controllerâ âª">7. Trusted Agents</a> <a href="#ref-for-resource-controllerâ â ">(2)</a>
    <li><a href="#ref-for-resource-controllerâ â¡">9. Definitions</a> <a href="#ref-for-resource-controllerâ â¢">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="acl-resource">
   <b><a href="#acl-resource">#acl-resource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-acl-resource">2. Proposal</a> <a href="#ref-for-acl-resourceâ ">(2)</a>
    <li><a href="#ref-for-acl-resourceâ¡">8. Client Identification</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="trusted-agent">
   <b><a href="#trusted-agent">#trusted-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-trusted-agent">2. Proposal</a>
    <li><a href="#ref-for-trusted-agentâ ">6.4. Looking up an Application Registration</a> <a href="#ref-for-trusted-agentâ¡">(2)</a>
    <li><a href="#ref-for-trusted-agentâ¢">6.5. Registering an Application</a> <a href="#ref-for-trusted-agentâ£">(2)</a>
    <li><a href="#ref-for-trusted-agentâ¤">6.5.1. Creating the application registration entry</a>
    <li><a href="#ref-for-trusted-agentâ¥">7. Trusted Agents</a>
    <li><a href="#ref-for-trusted-agentâ¦">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape">
   <b><a href="#shape">#shape</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape">2. Proposal</a>
    <li><a href="#ref-for-shapeâ ">5.2. Structure and Validation</a> <a href="#ref-for-shapeâ¡">(2)</a> <a href="#ref-for-shapeâ¢">(3)</a>
    <li><a href="#ref-for-shapeâ£">6.2.2. Use of internal application space</a> <a href="#ref-for-shapeâ¤">(2)</a> <a href="#ref-for-shapeâ¥">(3)</a> <a href="#ref-for-shapeâ¦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shape-tree">
   <b><a href="#shape-tree">#shape-tree</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shape-tree">2. Proposal</a> <a href="#ref-for-shape-treeâ ">(2)</a> <a href="#ref-for-shape-treeâ¡">(3)</a>
    <li><a href="#ref-for-shape-treeâ¢">5.2. Structure and Validation</a> <a href="#ref-for-shape-treeâ£">(2)</a> <a href="#ref-for-shape-treeâ¤">(3)</a>
    <li><a href="#ref-for-shape-treeâ¥">6.2.2. Use of internal application space</a> <a href="#ref-for-shape-treeâ¦">(2)</a> <a href="#ref-for-shape-treeâ§">(3)</a> <a href="#ref-for-shape-treeâ¨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registrar">
   <b><a href="#registrar">#registrar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registrar">5. Registrar</a>
    <li><a href="#ref-for-registrarâ ">5.1. Registrar Data Model</a> <a href="#ref-for-registrarâ¡">(2)</a> <a href="#ref-for-registrarâ¢">(3)</a> <a href="#ref-for-registrarâ£">(4)</a> <a href="#ref-for-registrarâ¤">(5)</a>
    <li><a href="#ref-for-registrarâ¥">5.2. Structure and Validation</a> <a href="#ref-for-registrarâ¦">(2)</a> <a href="#ref-for-registrarâ§">(3)</a> <a href="#ref-for-registrarâ¨">(4)</a> <a href="#ref-for-registrarâ âª">(5)</a> <a href="#ref-for-registrarâ â ">(6)</a>
    <li><a href="#ref-for-registrarâ â¡">5.3. Permission Model</a> <a href="#ref-for-registrarâ â¢">(2)</a> <a href="#ref-for-registrarâ â£">(3)</a>
    <li><a href="#ref-for-registrarâ â¤">6.1. Data Model</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registry-set">
   <b><a href="#registry-set">#registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registry-set">5.1. Registrar Data Model</a> <a href="#ref-for-registry-setâ ">(2)</a> <a href="#ref-for-registry-setâ¡">(3)</a> <a href="#ref-for-registry-setâ¢">(4)</a> <a href="#ref-for-registry-setâ£">(5)</a>
    <li><a href="#ref-for-registry-setâ¤">5.2. Structure and Validation</a> <a href="#ref-for-registry-setâ¥">(2)</a> <a href="#ref-for-registry-setâ¦">(3)</a>
    <li><a href="#ref-for-registry-setâ§">9. Definitions</a> <a href="#ref-for-registry-setâ¨">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registry-set">
   <b><a href="#application-registry-set">#application-registry-set</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registry-set">5.1. Registrar Data Model</a> <a href="#ref-for-application-registry-setâ ">(2)</a>
    <li><a href="#ref-for-application-registry-setâ¡">5.2. Structure and Validation</a>
    <li><a href="#ref-for-application-registry-setâ¢">6.1. Data Model</a> <a href="#ref-for-application-registry-setâ£">(2)</a>
    <li><a href="#ref-for-application-registry-setâ¤">6.4. Looking up an Application Registration</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registry">
   <b><a href="#registry">#registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registry">5. Registrar</a>
    <li><a href="#ref-for-registryâ ">5.1. Registrar Data Model</a> <a href="#ref-for-registryâ¡">(2)</a> <a href="#ref-for-registryâ¢">(3)</a> <a href="#ref-for-registryâ£">(4)</a> <a href="#ref-for-registryâ¤">(5)</a> <a href="#ref-for-registryâ¥">(6)</a> <a href="#ref-for-registryâ¦">(7)</a> <a href="#ref-for-registryâ§">(8)</a>
    <li><a href="#ref-for-registryâ¨">5.2. Structure and Validation</a> <a href="#ref-for-registryâ âª">(2)</a>
    <li><a href="#ref-for-registryâ â ">5.3. Permission Model</a>
    <li><a href="#ref-for-registryâ â¡">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="registration">
   <b><a href="#registration">#registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-registration">5.1. Registrar Data Model</a> <a href="#ref-for-registrationâ ">(2)</a> <a href="#ref-for-registrationâ¡">(3)</a> <a href="#ref-for-registrationâ¢">(4)</a> <a href="#ref-for-registrationâ£">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registry">
   <b><a href="#application-registry">#application-registry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registry">5. Registrar</a>
    <li><a href="#ref-for-application-registryâ ">5.1. Registrar Data Model</a> <a href="#ref-for-application-registryâ¡">(2)</a> <a href="#ref-for-application-registryâ¢">(3)</a> <a href="#ref-for-application-registryâ£">(4)</a>
    <li><a href="#ref-for-application-registryâ¤">5.2. Structure and Validation</a> <a href="#ref-for-application-registryâ¥">(2)</a> <a href="#ref-for-application-registryâ¦">(3)</a> <a href="#ref-for-application-registryâ§">(4)</a>
    <li><a href="#ref-for-application-registryâ¨">6. Application Registration</a>
    <li><a href="#ref-for-application-registryâ âª">6.1. Data Model</a> <a href="#ref-for-application-registryâ â ">(2)</a>
    <li><a href="#ref-for-application-registryâ â¡">6.2. Structure and Validation</a> <a href="#ref-for-application-registryâ â¢">(2)</a> <a href="#ref-for-application-registryâ â£">(3)</a> <a href="#ref-for-application-registryâ â¤">(4)</a> <a href="#ref-for-application-registryâ â¥">(5)</a>
    <li><a href="#ref-for-application-registryâ â¦">6.3. Permission Model</a> <a href="#ref-for-application-registryâ â§">(2)</a> <a href="#ref-for-application-registryâ â¨">(3)</a>
    <li><a href="#ref-for-application-registryâ¡âª">6.4. Looking up an Application Registration</a> <a href="#ref-for-application-registryâ¡â ">(2)</a> <a href="#ref-for-application-registryâ¡â¡">(3)</a> <a href="#ref-for-application-registryâ¡â¢">(4)</a>
    <li><a href="#ref-for-application-registryâ¡â£">6.5. Registering an Application</a>
    <li><a href="#ref-for-application-registryâ¡â¤">6.5.1. Creating the application registration entry</a> <a href="#ref-for-application-registryâ¡â¥">(2)</a> <a href="#ref-for-application-registryâ¡â¦">(3)</a>
    <li><a href="#ref-for-application-registryâ¡â§">9. Definitions</a> <a href="#ref-for-application-registryâ¡â¨">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registration">
   <b><a href="#application-registration">#application-registration</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registration">5. Registrar</a>
    <li><a href="#ref-for-application-registrationâ ">5.1. Registrar Data Model</a> <a href="#ref-for-application-registrationâ¡">(2)</a> <a href="#ref-for-application-registrationâ¢">(3)</a>
    <li><a href="#ref-for-application-registrationâ£">5.2. Structure and Validation</a> <a href="#ref-for-application-registrationâ¤">(2)</a> <a href="#ref-for-application-registrationâ¥">(3)</a>
    <li><a href="#ref-for-application-registrationâ¦">6. Application Registration</a>
    <li><a href="#ref-for-application-registrationâ§">6.1. Data Model</a> <a href="#ref-for-application-registrationâ¨">(2)</a> <a href="#ref-for-application-registrationâ âª">(3)</a>
    <li><a href="#ref-for-application-registrationâ â ">6.2. Structure and Validation</a> <a href="#ref-for-application-registrationâ â¡">(2)</a> <a href="#ref-for-application-registrationâ â¢">(3)</a> <a href="#ref-for-application-registrationâ â£">(4)</a> <a href="#ref-for-application-registrationâ â¤">(5)</a>
    <li><a href="#ref-for-application-registrationâ â¥">6.2.1. Naming application registration resources</a> <a href="#ref-for-application-registrationâ â¦">(2)</a>
    <li><a href="#ref-for-application-registrationâ â§">6.3. Permission Model</a> <a href="#ref-for-application-registrationâ â¨">(2)</a>
    <li><a href="#ref-for-application-registrationâ¡âª">6.4. Looking up an Application Registration</a> <a href="#ref-for-application-registrationâ¡â ">(2)</a> <a href="#ref-for-application-registrationâ¡â¡">(3)</a> <a href="#ref-for-application-registrationâ¡â¢">(4)</a> <a href="#ref-for-application-registrationâ¡â£">(5)</a> <a href="#ref-for-application-registrationâ¡â¤">(6)</a> <a href="#ref-for-application-registrationâ¡â¥">(7)</a> <a href="#ref-for-application-registrationâ¡â¦">(8)</a> <a href="#ref-for-application-registrationâ¡â§">(9)</a>
    <li><a href="#ref-for-application-registrationâ¡â¨">6.5. Registering an Application</a>
    <li><a href="#ref-for-application-registrationâ¢âª">6.5.1. Creating the application registration entry</a> <a href="#ref-for-application-registrationâ¢â ">(2)</a> <a href="#ref-for-application-registrationâ¢â¡">(3)</a> <a href="#ref-for-application-registrationâ¢â¢">(4)</a> <a href="#ref-for-application-registrationâ¢â£">(5)</a> <a href="#ref-for-application-registrationâ¢â¤">(6)</a> <a href="#ref-for-application-registrationâ¢â¥">(7)</a> <a href="#ref-for-application-registrationâ¢â¦">(8)</a> <a href="#ref-for-application-registrationâ¢â§">(9)</a>
    <li><a href="#ref-for-application-registrationâ¢â¨">9. Definitions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="application-registration-agent">
   <b><a href="#application-registration-agent">#application-registration-agent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-application-registration-agent">6.5. Registering an Application</a> <a href="#ref-for-application-registration-agentâ ">(2)</a>
    <li><a href="#ref-for-application-registration-agentâ¡">6.5.1. Creating the application registration entry</a> <a href="#ref-for-application-registration-agentâ¢">(2)</a>
    <li><a href="#ref-for-application-registration-agentâ£">7. Trusted Agents</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>